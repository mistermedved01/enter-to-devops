[๐ ะะปะฐะฒะฝะฐั](../../README.md) โ [โธ๏ธ Container-Orchestration](../../README.md#-container-orchestration) โ [๐ฏ K-07-ะะปะฐะฝะธัะพะฒะฐะฝะธะต-ะธ-ัะตััััั](../../README.md#-k-07-ะฟะปะฐะฝะธัะพะฒะฐะฝะธะต-ะธ-ัะตััััั)

---

# โกK-07-10-Priority-Classes
>Priority Classes โ ะพะฟัะตะดะตะปะตะฝะธะต ะฟัะธะพัะธัะตัะฐ Pod'ะพะฒ ะดะปั ะฟะปะฐะฝะธัะพะฒัะธะบะฐ, ะฟะพะทะฒะพะปัััะตะต ัะฐะทะผะตัะฐัั ะบัะธัะธัะฝัะต Pod'ั ะฟะตัะฒัะผะธ ะธ ะฒััะตัะฝััั ะผะตะฝะตะต ะฒะฐะถะฝัะต ะฟัะธ ะฝะตัะฒะฐัะบะต ัะตััััะพะฒ

---

<details>
<summary><b>๐ะงัะพ ัะฐะบะพะต Priority Classes?</b></summary>

---

## ะะพะฝัะตะฟัะธั Priority Classes

**Priority Classes** โ ััะพ ะผะตัะฐะฝะธะทะผ Kubernetes, ะบะพัะพััะน ะฟะพะทะฒะพะปัะตั ะฝะฐะทะฝะฐัะฐัั ะฟัะธะพัะธัะตัั Pod'ะฐะผ ะดะปั ะฟะปะฐะฝะธัะพะฒัะธะบะฐ.

**ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ:**
- โ ะะฟัะตะดะตะปััั ะพัะฝะพัะธัะตะปัะฝัั ะฒะฐะถะฝะพััั Pod'ะพะฒ
- โ ะะปะธััั ะฝะฐ ะฟะพััะดะพะบ ัะฐะทะผะตัะตะฝะธั Pod'ะพะฒ
- โ ะะพะทะฒะพะปััั ะฒััะตัะฝััั (preempt) ะผะตะฝะตะต ะฒะฐะถะฝัะต Pod'ั
- โ ะะพะผะพะณะฐัั ะณะฐัะฐะฝัะธัะพะฒะฐัั ัะฐะทะผะตัะตะฝะธะต ะบัะธัะธัะฝัั Pod'ะพะฒ

---

## ะะฐัะตะผ ะฝัะถะฝั Priority Classes?

**ะัะพะฑะปะตะผะฐ:** ะงัะพ ะดะตะปะฐัั, ะบะพะณะดะฐ ะฒ ะบะปะฐััะตัะต ะฝะต ัะฒะฐัะฐะตั ัะตััััะพะฒ ะดะปั ะฒัะตั Pod'ะพะฒ?

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะัะพะฑะปะตะผะฐ: ะะตัะฒะฐัะบะฐ ัะตััััะพะฒ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                          โ
โ  Node 1: 4 CPU, 8 GB ะฟะฐะผััะธ                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโ                               โ
โ  โ Pod A (2 CPU, 4 GB) โ                               โ
โ  โ Pod B (1 CPU, 2 GB) โ                               โ
โ  โ Pod C (1 CPU, 2 GB) โ                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโ                               โ
โ  ะกะฒะพะฑะพะดะฝะพ: 0 CPU, 0 GB                                  โ
โ                                                          โ
โ  ะะพะฒัะน ะบัะธัะธัะฝัะน Pod: 1 CPU, 2 GB                       โ
โ  โ                                                      โ
โ  โ ะะต ะผะพะถะตั ะฑััั ัะฐะทะผะตัะตะฝ!                             โ
โ                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะตัะตะฝะธะต:** Priority Classes ะฟะพะทะฒะพะปััั:
- โ ะะฐะทะผะตัะฐัั ะบัะธัะธัะฝัะต Pod'ั ะฟะตัะฒัะผะธ
- โ ะััะตัะฝััั ะผะตะฝะตะต ะฒะฐะถะฝัะต Pod'ั ะฟัะธ ะฝะตัะฒะฐัะบะต ัะตััััะพะฒ
- โ ะะฐัะฐะฝัะธัะพะฒะฐัั ะดะพัััะฟะฝะพััั ัะตััััะพะฒ ะดะปั ะฒะฐะถะฝัั Pod'ะพะฒ

---

## ะะฐะบ ัะฐะฑะพัะฐัั Priority Classes?

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ะัะธะพัะธัะตัะฝะพะต ะฟะปะฐะฝะธัะพะฒะฐะฝะธะต                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                          โ
โ  ะะพะฒัะน Pod ั ะฒััะพะบะธะผ ะฟัะธะพัะธัะตัะพะผ                         โ
โ           โ                                              โ
โ           โผ                                              โ
โ  Scheduler ะฟัะพะฒะตััะตั ะดะพัััะฟะฝัะต ัะตััััั                   โ
โ           โ                                              โ
โ           โโ ะะตััััะพะฒ ะดะพััะฐัะพัะฝะพ โ ะะฐะทะผะตัะตะฝ โ          โ
โ           โ                                              โ
โ           โโ ะะตััััะพะฒ ะฝะตะดะพััะฐัะพัะฝะพ โ Preemption         โ
โ                      โ                                   โ
โ                      โผ                                   โ
โ  ะััะตัะฝะตะฝะธะต Pod'ะพะฒ ั ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ                 โ
โ                      โ                                   โ
โ                      โผ                                   โ
โ  ะัะธัะธัะฝัะน Pod ัะฐะทะผะตัะตะฝ โ                              โ
โ                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะัะพัะตัั:**
1. Pod ัะบะฐะทัะฒะฐะตั PriorityClass ะฒ ัะฟะตัะธัะธะบะฐัะธะธ
2. Scheduler ััะธััะฒะฐะตั ะฟัะธะพัะธัะตั ะฟัะธ ะฟะปะฐะฝะธัะพะฒะฐะฝะธะธ
3. ะัะปะธ ัะตััััะพะฒ ะฝะตะดะพััะฐัะพัะฝะพ โ ะฒััะตัะฝััััั Pod'ั ั ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ
4. ะัะธัะธัะฝัะน Pod ัะฐะทะผะตัะฐะตััั ะฝะฐ ะพัะฒะพะฑะพะถะดะตะฝะฝัั ัะตััััะฐั

---

</details>

<details>
<summary><b>๐ะกะพะทะดะฐะฝะธะต PriorityClass</b></summary>

---

## ะะฐะทะพะฒะฐั ััััะบัััะฐ PriorityClass

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: high-priority
value: 1000
description: "High priority class for critical applications"
```

**ะะปััะตะฒัะต ัะปะตะผะตะฝัั:**
- `apiVersion: scheduling.k8s.io/v1` โ ะฒะตััะธั API ะดะปั PriorityClass
- `kind: PriorityClass` โ ัะธะฟ ัะตััััะฐ
- `metadata.name` โ ะธะผั PriorityClass (ะธัะฟะพะปัะทัะตััั ะฒ Pod'ะฐั)
- `value` โ ัะธัะปะพะฒะพะต ะทะฝะฐัะตะฝะธะต ะฟัะธะพัะธัะตัะฐ (ัะตะผ ะฒััะต, ัะตะผ ะฒะฐะถะฝะตะต)
- `description` โ ะพะฟะธัะฐะฝะธะต (ะพะฟัะธะพะฝะฐะปัะฝะพ)

---

## ะะฝะฐัะตะฝะธั ะฟัะธะพัะธัะตัะฐ

**ะะธะฐะฟะฐะทะพะฝ ะทะฝะฐัะตะฝะธะน:**
- **ะกะธััะตะผะฝัะต:** 0-999 (ะทะฐัะตะทะตัะฒะธัะพะฒะฐะฝั ะดะปั ัะธััะตะผะฝัั Pod'ะพะฒ)
- **ะะพะปัะทะพะฒะฐัะตะปััะบะธะต:** 1000-2000000000 (ะดะพ 2 ะผะธะปะปะธะฐัะดะพะฒ)

**ะะตะบะพะผะตะฝะดะฐัะธะธ:**
- ะัะฟะพะปัะทัะนัะต ะทะฝะฐัะตะฝะธั ะพั 1000 ะธ ะฒััะต
- ะััะฐะฒะปัะนัะต ะทะฐะฟะฐั ะผะตะถะดั ะบะปะฐััะฐะผะธ (ะฝะฐะฟัะธะผะตั, 1000, 2000, 3000)
- ะะต ะธัะฟะพะปัะทัะนัะต ัะธััะตะผะฝัะต ะทะฝะฐัะตะฝะธั (0-999)

---

## ะัะธะผะตัั PriorityClass

### ะัะธะผะตั 1: ะััะพะบะธะน ะฟัะธะพัะธัะตั

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: high-priority
value: 1000
description: "High priority for production workloads"
```

### ะัะธะผะตั 2: ะกัะตะดะฝะธะน ะฟัะธะพัะธัะตั

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: medium-priority
value: 500
description: "Medium priority for standard workloads"
```

> โ๏ธ **ะะฐะถะฝะพ:** ะะฝะฐัะตะฝะธะต 500 ะฝะฐัะพะดะธััั ะฒ ัะธััะตะผะฝะพะผ ะดะธะฐะฟะฐะทะพะฝะต (0-999). ะัะฟะพะปัะทัะนัะต ะทะฝะฐัะตะฝะธั ะพั 1000 ะธ ะฒััะต!

**ะัะฐะฒะธะปัะฝัะน ะฒะฐัะธะฐะฝั:**

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: medium-priority
value: 2000
description: "Medium priority for standard workloads"
```

### ะัะธะผะตั 3: ะะธะทะบะธะน ะฟัะธะพัะธัะตั

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: low-priority
value: 100
description: "Low priority for batch jobs"
```

> โ๏ธ **ะะฐะถะฝะพ:** ะะฝะฐัะตะฝะธะต 100 ัะฐะบะถะต ะฒ ัะธััะตะผะฝะพะผ ะดะธะฐะฟะฐะทะพะฝะต!

**ะัะฐะฒะธะปัะฝัะน ะฒะฐัะธะฐะฝั:**

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: low-priority
value: 1000
description: "Low priority for batch jobs"
```

---

## ะะพะผะฐะฝะดั ะดะปั ัะฐะฑะพัั ั PriorityClass

### ะกะพะทะดะฐะฝะธะต PriorityClass

```bash
# ะะท YAML ัะฐะนะปะฐ
kubectl create -f priorityclass.yaml

# ะะปะธ ะฝะฐะฟััะผัั
kubectl create priorityclass high-priority \
  --value=1000 \
  --description="High priority class"
```

### ะัะพัะผะพัั PriorityClass

```bash
# ะกะฟะธัะพะบ ะฒัะตั PriorityClass
kubectl get priorityclass
kubectl get pc  # ะกะพะบัะฐัะตะฝะฝะฐั ัะพัะผะฐ

# ะะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั
kubectl describe priorityclass high-priority
```

### ะฃะดะฐะปะตะฝะธะต PriorityClass

```bash
# ะฃะดะฐะปะตะฝะธะต PriorityClass
kubectl delete priorityclass high-priority
```

> โ๏ธ **ะะฐะถะฝะพ:** PriorityClass ะผะพะถะฝะพ ัะดะฐะปะธัั ัะพะปัะบะพ ะตัะปะธ ะตะณะพ ะฝะต ะธัะฟะพะปัะทััั Pod'ั.

---

</details>

<details>
<summary><b>๐ฏะัะฟะพะปัะทะพะฒะฐะฝะธะต PriorityClass ะฒ Pod'ะฐั</b></summary>

---

## ะฃะบะฐะทะฐะฝะธะต PriorityClass ะฒ Pod

### ะะฐะทะพะฒะฐั ััััะบัััะฐ

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: critical-pod
spec:
  priorityClassName: high-priority
  containers:
  - name: app
    image: myapp:latest
```

**ะะปััะตะฒะพะน ัะปะตะผะตะฝั:**
- `spec.priorityClassName` โ ะธะผั PriorityClass, ะบะพัะพััะน ะฑัะดะตั ะธัะฟะพะปัะทะพะฒะฐะฝ ะดะปั Pod'ะฐ

---

## ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: ะัะธัะธัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: database-pod
spec:
  priorityClassName: high-priority
  containers:
  - name: postgres
    image: postgres:14
    resources:
      requests:
        memory: "4Gi"
        cpu: "2"
```

### ะัะธะผะตั 2: ะะฑััะฝะพะต ะฟัะธะปะพะถะตะฝะธะต

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: web-app
spec:
  priorityClassName: medium-priority
  containers:
  - name: nginx
    image: nginx:latest
```

### ะัะธะผะตั 3: Batch-ะทะฐะดะฐัะฐ

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: batch-job
spec:
  priorityClassName: low-priority
  containers:
  - name: processor
    image: batch-processor:latest
```

---

## Pod ะฑะตะท PriorityClass

**ะัะปะธ Pod ะฝะต ัะบะฐะทัะฒะฐะตั PriorityClass:**
- ะัะธะพัะธัะตั = 0 (ัะฐะผัะน ะฝะธะทะบะธะน)
- ะะพะถะตั ะฑััั ะฒััะตัะฝะตะฝ ะปัะฑัะผ Pod'ะพะผ ั ะฟัะธะพัะธัะตัะพะผ > 0
- ะะฐะทะผะตัะฐะตััั ะฟะพัะปะตะดะฝะธะผ ะฟัะธ ะฝะตัะฒะฐัะบะต ัะตััััะพะฒ

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: default-pod
spec:
  # ะะตั priorityClassName
  containers:
  - name: app
    image: myapp:latest
```

---

</details>

<details>
<summary><b>โ๏ธPreemption: ะััะตัะฝะตะฝะธะต Pod'ะพะฒ</b></summary>

---

## ะงัะพ ัะฐะบะพะต Preemption?

**Preemption** (ะฒััะตัะฝะตะฝะธะต) โ ะฟัะพัะตัั ัะดะฐะปะตะฝะธั Pod'ะพะฒ ั ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ ะดะปั ะพัะฒะพะฑะพะถะดะตะฝะธั ัะตััััะพะฒ ะดะปั Pod'ะพะฒ ั ะฒััะพะบะธะผ ะฟัะธะพัะธัะตัะพะผ.

**ะะพะณะดะฐ ะฟัะพะธััะพะดะธั:**
- ะะพะฒัะน Pod ั ะฒััะพะบะธะผ ะฟัะธะพัะธัะตัะพะผ ะฝะต ะผะพะถะตั ะฑััั ัะฐะทะผะตัะตะฝ
- ะะฐ ัะทะปะฐั ะฝะตั ัะฒะพะฑะพะดะฝัั ัะตััััะพะฒ
- ะััั Pod'ั ั ะฑะพะปะตะต ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ, ะบะพัะพััะต ะผะพะถะฝะพ ะฒััะตัะฝะธัั

---

## ะัะพัะตัั Preemption

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะัะพัะตัั Preemption                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                          โ
โ  1. ะะพะฒัะน Pod ั ะฒััะพะบะธะผ ะฟัะธะพัะธัะตัะพะผ (1000)               โ
โ           โ                                              โ
โ           โผ                                              โ
โ  2. Scheduler ะฟัะพะฒะตััะตั ัะทะปั                            โ
โ           โ                                              โ
โ           โโ ะะตััััะพะฒ ะดะพััะฐัะพัะฝะพ โ ะะฐะทะผะตัะตะฝ โ          โ
โ           โ                                              โ
โ           โโ ะะตััััะพะฒ ะฝะตะดะพััะฐัะพัะฝะพ โ ะจะฐะณ 3              โ
โ                      โ                                   โ
โ                      โผ                                   โ
โ  3. ะะพะธัะบ Pod'ะพะฒ ั ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ (< 1000)          โ
โ           โ                                              โ
โ           โโ ะะฐะนะดะตะฝ Pod ั ะฟัะธะพัะธัะตัะพะผ 500               โ
โ           โ                                              โ
โ           โผ                                              โ
โ  4. ะััะตัะฝะตะฝะธะต Pod'ะฐ ั ะฟัะธะพัะธัะตัะพะผ 500                  โ
โ           โ                                              โ
โ           โผ                                              โ
โ  5. ะัะฒะพะฑะพะถะดะตะฝะธะต ัะตััััะพะฒ                                โ
โ           โ                                              โ
โ           โผ                                              โ
โ  6. ะะฐะทะผะตัะตะฝะธะต ะฝะพะฒะพะณะพ Pod'ะฐ ั ะฟัะธะพัะธัะตัะพะผ 1000 โ       โ
โ                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ะัะฐะฒะธะปะฐ Preemption

**Pod ะผะพะถะตั ะฑััั ะฒััะตัะฝะตะฝ, ะตัะปะธ:**
- โ ะะณะพ ะฟัะธะพัะธัะตั ะฝะธะถะต ะฟัะธะพัะธัะตัะฐ ะฝะพะฒะพะณะพ Pod'ะฐ
- โ ะะพะฒัะน Pod ะฝะต ะผะพะถะตั ะฑััั ัะฐะทะผะตัะตะฝ ะฑะตะท ะฒััะตัะฝะตะฝะธั
- โ ะััะตัะฝะตะฝะธะต ะพัะฒะพะฑะพะดะธั ะดะพััะฐัะพัะฝะพ ัะตััััะพะฒ

**Pod ะะ ะผะพะถะตั ะฑััั ะฒััะตัะฝะตะฝ, ะตัะปะธ:**
- โ ะะณะพ ะฟัะธะพัะธัะตั ัะฐะฒะตะฝ ะธะปะธ ะฒััะต ะฟัะธะพัะธัะตัะฐ ะฝะพะฒะพะณะพ Pod'ะฐ
- โ ะญัะพ ัะธััะตะผะฝัะน Pod (ะฟัะธะพัะธัะตั 0-999)
- โ ะฃ ะฝะตะณะพ ัััะฐะฝะพะฒะปะตะฝ `preemptionPolicy: Never`

---

## PreemptionPolicy

**ะะฐัะฐะผะตัั `preemptionPolicy` ะฒ PriorityClass:**

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: high-priority
value: 1000
preemptionPolicy: PreemptLowerPriority  # ะะพ ัะผะพะปัะฐะฝะธั
description: "High priority class"
```

**ะะฝะฐัะตะฝะธั:**
- `PreemptLowerPriority` (ะฟะพ ัะผะพะปัะฐะฝะธั) โ ะผะพะถะตั ะฒััะตัะฝััั Pod'ั ั ะฑะพะปะตะต ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ
- `Never` โ ะฝะต ะผะพะถะตั ะฒััะตัะฝััั ะดััะณะธะต Pod'ั, ะฝะพ ัะฐะผ ะผะพะถะตั ะฑััั ะฒััะตัะฝะตะฝ

---

## ะัะธะผะตั: Preemption ะฒ ะดะตะนััะฒะธะธ

**ะกัะตะฝะฐัะธะน:**

```
ะฃะทะตะป: 4 CPU, 8 GB ะฟะฐะผััะธ

ะขะตะบััะธะต Pod'ั:
- Pod A: ะฟัะธะพัะธัะตั 500, ะธัะฟะพะปัะทัะตั 2 CPU, 4 GB
- Pod B: ะฟัะธะพัะธัะตั 500, ะธัะฟะพะปัะทัะตั 1 CPU, 2 GB
- Pod C: ะฟัะธะพัะธัะตั 500, ะธัะฟะพะปัะทัะตั 1 CPU, 2 GB

ะะพะฒัะน Pod: ะฟัะธะพัะธัะตั 1000, ััะตะฑัะตั 2 CPU, 4 GB
```

**ะงัะพ ะฟัะพะธััะพะดะธั:**
1. Scheduler ะฟัะพะฒะตััะตั ะดะพัััะฟะฝัะต ัะตััััั โ ะฝะตะดะพััะฐัะพัะฝะพ
2. ะะฐัะพะดะธั Pod A ั ะฟัะธะพัะธัะตัะพะผ 500 (ะฝะธะถะต 1000)
3. ะััะตัะฝัะตั Pod A
4. ะัะฒะพะฑะพะถะดะฐะตั 2 CPU, 4 GB
5. ะะฐะทะผะตัะฐะตั ะฝะพะฒัะน Pod ั ะฟัะธะพัะธัะตัะพะผ 1000

**ะะตะทัะปััะฐั:**
- โ ะะพะฒัะน Pod ัะฐะทะผะตัะตะฝ
- โ๏ธ Pod A ะฒััะตัะฝะตะฝ ะธ ะฟะตัะตะทะฐะฟััะบะฐะตััั ะฝะฐ ะดััะณะพะผ ัะทะปะต (ะตัะปะธ ะฒะพะทะผะพะถะฝะพ)

---

</details>

<details>
<summary><b>๐งะกะธััะตะผะฝัะต Priority Classes</b></summary>

---

## ะัััะพะตะฝะฝัะต ัะธััะตะผะฝัะต Priority Classes

Kubernetes ัะพะทะดะฐะตั ะฝะตัะบะพะปัะบะพ ัะธััะตะผะฝัั Priority Classes ะฐะฒัะพะผะฐัะธัะตัะบะธ:

### system-cluster-critical

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: system-cluster-critical
value: 2000000000  # ะัะตะฝั ะฒััะพะบะธะน ะฟัะธะพัะธัะตั
globalDefault: false
description: "Used for system critical pods that must not be moved from their current node."
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**
- ะะพะผะฟะพะฝะตะฝัั control plane
- ะัะธัะธัะฝัะต ัะธััะตะผะฝัะต Pod'ั
- ะะต ะผะพะณัั ะฑััั ะฒััะตัะฝะตะฝั

### system-node-critical

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: system-node-critical
value: 2000001000  # ะัะต ะฒััะต
globalDefault: false
description: "Used for system critical pods that must not be moved from their current node."
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**
- ะะพะผะฟะพะฝะตะฝัั ัะทะปะฐ (kubelet, kube-proxy)
- ะัะธัะธัะฝัะต ะดะปั ัะฐะฑะพัั ัะทะปะฐ

---

## ะัะพะฒะตัะบะฐ ัะธััะตะผะฝัั Priority Classes

```bash
# ะัะพัะผะพัั ะฒัะตั Priority Classes
kubectl get priorityclass

# ะัะฒะพะด:
# NAME                      VALUE        GLOBAL-DEFAULT   AGE
# system-cluster-critical   2000000000   false           5d
# system-node-critical      2000001000   false           5d
# high-priority             1000         false           1h
```

---

## GlobalDefault PriorityClass

**ะะฐัะฐะผะตัั `globalDefault: true`:**

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: default-priority
value: 1000
globalDefault: true
description: "Default priority class for all pods"
```

**ะงัะพ ััะพ ะพะทะฝะฐัะฐะตั:**
- ะัะต Pod'ั ะฑะตะท ัะบะฐะทะฐะฝะฝะพะณะพ `priorityClassName` ะฟะพะปััะฐั ััะพั ะฟัะธะพัะธัะตั
- ะะพะถะตั ะฑััั ัะพะปัะบะพ ะพะดะธะฝ PriorityClass ั `globalDefault: true`

> โ๏ธ **ะะฐะถะฝะพ:** ะัะปะธ Pod ัะฒะฝะพ ัะบะฐะทัะฒะฐะตั `priorityClassName: ""`, ะพะฝ ะฟะพะปััะธั ะฟัะธะพัะธัะตั 0, ะดะฐะถะต ะตัะปะธ ะตััั `globalDefault`.

---

</details>

<details>
<summary><b>๐ะัะฐะบัะธัะตัะบะธะต ะฟัะธะผะตัั</b></summary>

---

## ะัะธะผะตั 1: Production ะธ Development ะพะบััะถะตะฝะธั

**ะกะพะทะดะฐะฝะธะต Priority Classes:**

```yaml
# Production Priority Class
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: production-priority
value: 3000
description: "Priority for production workloads"
---
# Development Priority Class
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: development-priority
value: 1000
description: "Priority for development workloads"
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**

```yaml
# Production Pod
apiVersion: v1
kind: Pod
metadata:
  name: prod-app
spec:
  priorityClassName: production-priority
  containers:
  - name: app
    image: myapp:prod
---
# Development Pod
apiVersion: v1
kind: Pod
metadata:
  name: dev-app
spec:
  priorityClassName: development-priority
  containers:
  - name: app
    image: myapp:dev
```

**ะะตะทัะปััะฐั:**
- Production Pod'ั ะธะผะตัั ะฟัะธะพัะธัะตั 3000
- Development Pod'ั ะธะผะตัั ะฟัะธะพัะธัะตั 1000
- ะัะธ ะฝะตัะฒะฐัะบะต ัะตััััะพะฒ Development Pod'ั ะฑัะดัั ะฒััะตัะฝะตะฝั ะฟะตัะฒัะผะธ

---

## ะัะธะผะตั 2: ะัะธัะธัะฝัะต ัะตัะฒะธัั ะธ Batch-ะทะฐะดะฐัะธ

```yaml
# Critical Service Priority Class
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: critical-service
value: 5000
description: "Priority for critical services"
---
# Batch Job Priority Class
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: batch-job
value: 1000
description: "Priority for batch jobs"
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**

```yaml
# ะัะธัะธัะฝัะน ัะตัะฒะธั
apiVersion: v1
kind: Pod
metadata:
  name: payment-service
spec:
  priorityClassName: critical-service
  containers:
  - name: service
    image: payment-service:latest
---
# Batch-ะทะฐะดะฐัะฐ
apiVersion: v1
kind: Pod
metadata:
  name: data-processing
spec:
  priorityClassName: batch-job
  containers:
  - name: processor
    image: batch-processor:latest
```

---

## ะัะธะผะตั 3: Deployment ั PriorityClass

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: critical-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: critical-app
  template:
    metadata:
      labels:
        app: critical-app
    spec:
      priorityClassName: high-priority
      containers:
      - name: app
        image: critical-app:latest
        resources:
          requests:
            memory: "1Gi"
            cpu: "1"
```

---

## ะัะธะผะตั 4: StatefulSet ั PriorityClass

```yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: database
spec:
  serviceName: database
  replicas: 3
  selector:
    matchLabels:
      app: database
  template:
    metadata:
      labels:
        app: database
    spec:
      priorityClassName: high-priority
      containers:
      - name: postgres
        image: postgres:14
        resources:
          requests:
            memory: "4Gi"
            cpu: "2"
```

---

</details>

<details>
<summary><b>๐ะัะพะฒะตัะบะฐ ะธ ะพัะปะฐะดะบะฐ</b></summary>

---

## ะัะพะฒะตัะบะฐ PriorityClass Pod'ะฐ

```bash
# ะัะพัะผะพัั Pod'ะฐ ั ะฟัะธะพัะธัะตัะพะผ
kubectl get pod my-pod -o yaml | grep priority

# ะัะฒะพะด:
# priorityClassName: high-priority
# priority: 1000
```

**ะะพะปั:**
- `priorityClassName` โ ะธะผั PriorityClass
- `priority` โ ัะธัะปะพะฒะพะต ะทะฝะฐัะตะฝะธะต ะฟัะธะพัะธัะตัะฐ

---

## ะัะพะฒะตัะบะฐ ะฒััะตัะฝะตะฝะฝัั Pod'ะพะฒ

```bash
# ะัะพัะผะพัั ัะพะฑััะธะน Pod'ะฐ
kubectl describe pod my-pod

# ะัะฒะพะด ะผะพะถะตั ะฟะพะบะฐะทะฐัั:
# Events:
#   Warning  Preempted  pod/my-pod  Preempted by pod/high-priority-pod
```

**ะัะธะทะฝะฐะบะธ ะฒััะตัะฝะตะฝะธั:**
- ะกะพะฑััะธะต `Preempted` ะฒ ะพะฟะธัะฐะฝะธะธ Pod'ะฐ
- Pod ะฟะตัะตัะพะดะธั ะฒ ัะพััะพัะฝะธะต `Terminating`
- ะะฐัะตะผ ะฟะตัะตะทะฐะฟััะบะฐะตััั ะฝะฐ ะดััะณะพะผ ัะทะปะต (ะตัะปะธ ะฒะพะทะผะพะถะฝะพ)

---

## ะัะพะฒะตัะบะฐ ะฟัะธะพัะธัะตัะพะฒ ะฒัะตั Pod'ะพะฒ

```bash
# ะัะพัะผะพัั ะฒัะตั Pod'ะพะฒ ั ะฟัะธะพัะธัะตัะฐะผะธ
kubectl get pods --all-namespaces -o custom-columns=NAME:.metadata.name,PRIORITY:.spec.priority,PRIORITYCLASS:.spec.priorityClassName
```

---

## ะัะปะฐะดะบะฐ ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ 1: Pod ะฝะต ะผะพะถะตั ะฑััั ัะฐะทะผะตัะตะฝ

**ะัะพะฒะตัััะต:**
1. ะััั ะปะธ ะดะพัััะฟะฝัะต ัะตััััั ะฒ ะบะปะฐััะตัะต?
2. ะัะฐะฒะธะปัะฝะพ ะปะธ ัะบะฐะทะฐะฝ PriorityClass?
3. ะกััะตััะฒัะตั ะปะธ PriorityClass?

```bash
# ะัะพะฒะตัะบะฐ PriorityClass
kubectl get priorityclass

# ะัะพะฒะตัะบะฐ ัะพะฑััะธะน Pod'ะฐ
kubectl describe pod my-pod
```

### ะัะพะฑะปะตะผะฐ 2: Pod ะฒััะตัะฝัะตััั ะฝะตะพะถะธะดะฐะฝะฝะพ

**ะัะพะฒะตัััะต:**
1. ะะฐะบะพะน ะฟัะธะพัะธัะตั ั Pod'ะฐ?
2. ะััั ะปะธ Pod'ั ั ะฑะพะปะตะต ะฒััะพะบะธะผ ะฟัะธะพัะธัะตัะพะผ?
3. ะะพััะฐัะพัะฝะพ ะปะธ ัะตััััะพะฒ ะฒ ะบะปะฐััะตัะต?

```bash
# ะัะพะฒะตัะบะฐ ะฟัะธะพัะธัะตัะฐ Pod'ะฐ
kubectl get pod my-pod -o jsonpath='{.spec.priority}'

# ะัะพะฒะตัะบะฐ ัะพะฑััะธะน
kubectl describe pod my-pod | grep -i preempt
```

---

</details>

<details>
<summary><b>๐กะัััะธะต ะฟัะฐะบัะธะบะธ</b></summary>

---

## ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั Priority Classes

### 1. ะัะฟะพะปัะทัะนัะต ัะฐะทัะผะฝัะต ะทะฝะฐัะตะฝะธั ะฟัะธะพัะธัะตัะฐ

**ะัะฐะฒะธะปัะฝะพ:**
```yaml
# ะัะธัะธัะฝัะต: 5000-10000
# Production: 3000-4000
# Development: 1000-2000
# Batch: 1000
```

**ะะตะฟัะฐะฒะธะปัะฝะพ:**
```yaml
# ะกะปะธัะบะพะผ ะฑะปะธะทะบะธะต ะทะฝะฐัะตะฝะธั
value: 1001
value: 1002
value: 1003
```

**ะะพัะตะผั:**
- ะััะฐะฒะปัะนัะต ะทะฐะฟะฐั ะผะตะถะดั ะบะปะฐััะฐะผะธ
- ะัะฟะพะปัะทัะนัะต ะฟะพะฝััะฝัะต ะดะธะฐะฟะฐะทะพะฝั (1000, 2000, 3000)

---

### 2. ะัะฟะพะปัะทัะนัะต ะพะฟะธัะฐัะตะปัะฝัะต ะธะผะตะฝะฐ

**ะัะฐะฒะธะปัะฝะพ:**
```yaml
metadata:
  name: production-priority
  name: critical-service-priority
  name: batch-job-priority
```

**ะะตะฟัะฐะฒะธะปัะฝะพ:**
```yaml
metadata:
  name: p1
  name: high
  name: priority-1
```

---

### 3. ะะพะบัะผะตะฝัะธััะนัะต Priority Classes

```yaml
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: production-priority
value: 3000
description: "Priority for production workloads. Used for customer-facing services."
```

**ะะพัะตะผั:**
- ะะพะผะพะณะฐะตั ะฟะพะฝััั ะฝะฐะทะฝะฐัะตะฝะธะต ะบะปะฐััะฐ
- ะะฑะปะตะณัะฐะตั ะฟะพะดะดะตัะถะบั ะธ ัะฟัะฐะฒะปะตะฝะธะต

---

### 4. ะัะฟะพะปัะทัะนัะต ะดะปั ะบัะธัะธัะฝัั ัะตัะฒะธัะพะฒ

**ะัะฐะฒะธะปัะฝะพ:**
- ะะฐะทั ะดะฐะฝะฝัั
- ะัะธัะธัะฝัะต API
- ะกะธััะตะผั ะผะพะฝะธัะพัะธะฝะณะฐ
- Payment-ัะตัะฒะธัั

**ะะตะฟัะฐะฒะธะปัะฝะพ:**
- ะัะต Pod'ั ะฟะพะดััะด
- ะขะตััะพะฒัะต ะพะบััะถะตะฝะธั (ะตัะปะธ ะฝะต ะบัะธัะธัะฝะพ)
- Batch-ะทะฐะดะฐัะธ (ะธัะฟะพะปัะทัะนัะต ะฝะธะทะบะธะน ะฟัะธะพัะธัะตั)

---

### 5. ะะพะฝะธัะพัััะต ะฒััะตัะฝะตะฝะธั

```bash
# ะะตะณัะปััะฝะพ ะฟัะพะฒะตััะนัะต ะฒััะตัะฝะตะฝะฝัะต Pod'ั
kubectl get events --field-selector reason=Preempted

# ะะพะฝะธัะพัััะต ะผะตััะธะบะธ ะฟัะธะพัะธัะตัะพะฒ
kubectl top pods --sort-by=priority
```

**ะะพัะตะผั:**
- ะะพะผะพะณะฐะตั ะฒััะฒะธัั ะฟัะพะฑะปะตะผั ั ัะตััััะฐะผะธ
- ะะพะทะฒะพะปัะตั ะพะฟัะธะผะธะทะธัะพะฒะฐัั ะฟัะธะพัะธัะตัั

---

## ะขะธะฟะธัะฝัะต ะพัะธะฑะบะธ

### ะัะธะฑะบะฐ 1: ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะธััะตะผะฝัั ะทะฝะฐัะตะฝะธะน (0-999)

**ะัะพะฑะปะตะผะฐ:**
```yaml
value: 500  # ะกะธััะตะผะฝัะน ะดะธะฐะฟะฐะทะพะฝ!
```

**ะะตัะตะฝะธะต:**
```yaml
value: 2000  # ะะพะปัะทะพะฒะฐัะตะปััะบะธะน ะดะธะฐะฟะฐะทะพะฝ
```

### ะัะธะฑะบะฐ 2: ะกะปะธัะบะพะผ ะฑะปะธะทะบะธะต ะทะฝะฐัะตะฝะธั

**ะัะพะฑะปะตะผะฐ:**
```yaml
value: 1001
value: 1002
value: 1003
```

**ะะตัะตะฝะธะต:**
```yaml
value: 1000
value: 2000
value: 3000
```

### ะัะธะฑะบะฐ 3: ะะตะฟัะฐะฒะธะปัะฝะพะต ะธะผั PriorityClass

**ะัะพะฑะปะตะผะฐ:**
```yaml
spec:
  priorityClassName: high  # PriorityClass ะฝะต ัััะตััะฒัะตั!
```

**ะะตัะตะฝะธะต:**
```yaml
spec:
  priorityClassName: high-priority  # ะัะฐะฒะธะปัะฝะพะต ะธะผั
```

---

</details>

---

## ะะตะทัะผะต

โ **Priority Classes** โ ะผะตัะฐะฝะธะทะผ ะพะฟัะตะดะตะปะตะฝะธั ะฟัะธะพัะธัะตัะฐ Pod'ะพะฒ ะดะปั ะฟะปะฐะฝะธัะพะฒัะธะบะฐ

โ **ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ:**
- ะะฟัะตะดะตะปััั ะพัะฝะพัะธัะตะปัะฝัั ะฒะฐะถะฝะพััั Pod'ะพะฒ
- ะะปะธััั ะฝะฐ ะฟะพััะดะพะบ ัะฐะทะผะตัะตะฝะธั
- ะะพะทะฒะพะปััั ะฒััะตัะฝััั ะผะตะฝะตะต ะฒะฐะถะฝัะต Pod'ั (Preemption)

โ **ะะธะฐะฟะฐะทะพะฝั ะฟัะธะพัะธัะตัะพะฒ:**
- ะกะธััะตะผะฝัะต: 0-999 (ะทะฐัะตะทะตัะฒะธัะพะฒะฐะฝั)
- ะะพะปัะทะพะฒะฐัะตะปััะบะธะต: 1000-2000000000

โ **Preemption:**
- Pod'ั ั ะฝะธะทะบะธะผ ะฟัะธะพัะธัะตัะพะผ ะผะพะณัั ะฑััั ะฒััะตัะฝะตะฝั
- ะััะตัะฝะตะฝะธะต ะพัะฒะพะฑะพะถะดะฐะตั ัะตััััั ะดะปั ะบัะธัะธัะฝัั Pod'ะพะฒ
- ะะพะถะฝะพ ะพัะบะปััะธัั ัะตัะตะท `preemptionPolicy: Never`

โ **ะัััะธะต ะฟัะฐะบัะธะบะธ:**
- ะัะฟะพะปัะทัะนัะต ะทะฝะฐัะตะฝะธั ะพั 1000 ะธ ะฒััะต
- ะััะฐะฒะปัะนัะต ะทะฐะฟะฐั ะผะตะถะดั ะบะปะฐััะฐะผะธ (1000, 2000, 3000)
- ะัะฟะพะปัะทัะนัะต ะพะฟะธัะฐัะตะปัะฝัะต ะธะผะตะฝะฐ
- ะะพะบัะผะตะฝัะธััะนัะต ะฝะฐะทะฝะฐัะตะฝะธะต ะบะปะฐััะพะฒ
- ะะพะฝะธัะพัััะต ะฒััะตัะฝะตะฝะธั

---

