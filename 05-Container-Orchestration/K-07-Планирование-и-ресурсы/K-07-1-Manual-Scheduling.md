[üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Üí [‚ò∏Ô∏è Container-Orchestration](../../README.md#-container-orchestration) ‚Üí [üéØ K-07-–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—Ä–µ—Å—É—Ä—Å—ã](../../README.md#-k-07-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—Ä–µ—Å—É—Ä—Å—ã)

---

# üéØK-07-1-Manual-Scheduling
>–†—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Pod'–æ–≤ –Ω–∞ —É–∑–ª—ã –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è kube-scheduler —á–µ—Ä–µ–∑ –ø–æ–ª–µ nodeName –∏ –æ–±—ä–µ–∫—Ç Binding

---

<details>
<summary><b>üîç–ß—Ç–æ —Ç–∞–∫–æ–µ —Ä—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?</b></summary>

---

## –ó–∞—á–µ–º –Ω—É–∂–Ω–æ —Ä—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?

**Manual Scheduling** - —ç—Ç–æ —Å–ø–æ—Å–æ–± –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è Pod'–æ–≤ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É–∑–ª—ã –≤—Ä—É—á–Ω—É—é, –º–∏–Ω—É—è kube-scheduler.

**–ö–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- ‚úÖ –í –∫–ª–∞—Å—Ç–µ—Ä–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- ‚úÖ –ù—É–∂–Ω–æ —Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ Pod'–æ–≤
- ‚úÖ –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –î–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —É–∑–ª–∞–º

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ—Ç scheduler?**
- Pod'—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `Pending`
- –ù–µ–∫–æ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏ –Ω–∞–∑–Ω–∞—á–∞—Ç—å Pod'—ã –Ω–∞ –Ω–æ–¥—ã
- –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞–∑–Ω–∞—á–∞—Ç—å Pod'—ã –Ω–∞ —É–∑–ª—ã

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í production-–∫–ª–∞—Å—Ç–µ—Ä–∞—Ö scheduler –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å–µ–≥–¥–∞. –†—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π —Å–ª—É—á–∞–π –∏–ª–∏ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á.

---

</details>

<details>
<summary><b>üîß–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç scheduler?</b></summary>

---

## –ü–æ–ª–µ nodeName –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ Pod

–ö–∞–∂–¥—ã–π Pod –∏–º–µ–µ—Ç –ø–æ–ª–µ `nodeName` –≤ —Å–≤–æ–µ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ**.

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
  - name: nginx
    image: nginx
  # nodeName: <–Ω–µ —É–∫–∞–∑–∞–Ω–æ>
```

**–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã scheduler:**

```
1. Scheduler –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç API-server
   ‚Üì
2. –ù–∞—Ö–æ–¥–∏—Ç Pod'—ã —Å nodeName = null
   ‚Üì
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   ‚Üì
4. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π —É–∑–µ–ª
   ‚Üì
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç nodeName = <–∏–º—è —É–∑–ª–∞>
   ‚Üì
6. Kubelet –Ω–∞ —É–∑–ª–µ –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–π Pod –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ
```

**–°—Ö–µ–º–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         kube-scheduler              ‚îÇ
‚îÇ  1. –ò—â–µ—Ç Pod'—ã –±–µ–∑ nodeName         ‚îÇ
‚îÇ  2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã —É–∑–ª–æ–≤       ‚îÇ
‚îÇ  3. –í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —É–∑–µ–ª       ‚îÇ
‚îÇ  4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç nodeName          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Pod Spec                    ‚îÇ
‚îÇ  nodeName: worker-node-01           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      kubelet –Ω–∞ worker-node-01      ‚îÇ
‚îÇ  –í–∏–¥–∏—Ç Pod –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> üí° **–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç:** Scheduler –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç Pod'—ã - –æ–Ω —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–µ `nodeName`. Kubelet –Ω–∞ —É–∑–ª–µ –≤–∏–¥–∏—Ç —ç—Ç–æ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

---

</details>

<details>
<summary><b>üìù–†—É—á–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ nodeName</b></summary>

---

## –°–ø–æ—Å–æ–± 1: –£–∫–∞–∑–∞—Ç—å nodeName –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - —É–∫–∞–∑–∞—Ç—å –∏–º—è —É–∑–ª–∞ –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ Pod –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏.

### –ü—Ä–∏–º–µ—Ä –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ —Å nodeName

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-manual
spec:
  nodeName: worker-node-02  # –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º —É–∑–µ–ª
  containers:
  - name: nginx
    image: nginx:latest
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞

```bash
# –°–æ–∑–¥–∞—ë–º Pod —Å —Ä—É—á–Ω—ã–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º
kubectl apply -f pod-manual.yaml

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∫–∞–∫–æ–º —É–∑–ª–µ Pod
kubectl get pods -o wide
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
NAME            READY   STATUS    RESTARTS   AGE   NODE
nginx-manual    1/1     Running   0          10s   worker-node-02
```

> ‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
> - –ü—Ä–æ—Å—Ç–æ—Ç–∞
> - –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ –Ω—É–∂–Ω–æ–º —É–∑–ª–µ
> - –ù–µ —Ç—Ä–µ–±—É–µ—Ç scheduler

> ‚ùå **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
> - –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
> - –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Pod
> - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ —É–∑–ª–∞

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å nodeName —É –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ Pod

```bash
# –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å nodeName —É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Pod
kubectl edit pod nginx-manual

# –û—à–∏–±–∫–∞:
# The Pod "nginx-manual" is invalid: 
# spec: Forbidden: pod updates may not change fields other than...
```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** Kubernetes –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å `nodeName` —É —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ Pod. –ü–æ–ª–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏!

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å Pod:**
1. –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Pod: `kubectl delete pod nginx-manual`
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å –¥—Ä—É–≥–∏–º `nodeName`

---

</details>

<details>
<summary><b>üîó–û–±—ä–µ–∫—Ç Binding –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö Pod'–æ–≤</b></summary>

---

## –°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç Binding

–ï—Å–ª–∏ Pod —É–∂–µ —Å–æ–∑–¥–∞–Ω (–±–µ–∑ `nodeName`), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç `Binding` –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ API.

### –ß—Ç–æ —Ç–∞–∫–æ–µ Binding?

**Binding** - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç Kubernetes, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç Pod —Å —É–∑–ª–æ–º. –ò–º–µ–Ω–Ω–æ –µ–≥–æ —Å–æ–∑–¥–∞—ë—Ç scheduler –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ Binding

```yaml
apiVersion: v1
kind: Binding
metadata:
  name: nginx-pod  # –ò–º—è Pod'–∞ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º
target:
  apiVersion: v1
  kind: Node
  name: worker-node-01  # –ò–º—è —Ü–µ–ª–µ–≤–æ–≥–æ —É–∑–ª–∞
```

---

## –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–≤—è–∑–∫–∏ —á–µ—Ä–µ–∑ API

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Pod –±–µ–∑ nodeName

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
  # nodeName –Ω–µ —É–∫–∞–∑–∞–Ω!
```

```bash
kubectl apply -f pod-without-node.yaml

# Pod –±—É–¥–µ—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Pending
kubectl get pods
# NAME        READY   STATUS    RESTARTS   AGE
# nginx-pod   0/1     Pending   0          5s
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å Binding –æ–±—ä–µ–∫—Ç

```yaml
# binding.yaml
apiVersion: v1
kind: Binding
metadata:
  name: nginx-pod
target:
  apiVersion: v1
  kind: Node
  name: worker-node-01
```

### –®–∞–≥ 3: –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ JSON

```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º YAML –≤ JSON
cat binding.yaml | python3 -c "import sys, yaml, json; json.dump(yaml.safe_load(sys.stdin), sys.stdout)" > binding.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (binding.json):**
```json
{
  "apiVersion": "v1",
  "kind": "Binding",
  "metadata": {
    "name": "nginx-pod"
  },
  "target": {
    "apiVersion": "v1",
    "kind": "Node",
    "name": "worker-node-01"
  }
}
```

### –®–∞–≥ 4: –û—Ç–ø—Ä–∞–≤–∏—Ç—å POST-–∑–∞–ø—Ä–æ—Å –≤ Binding API

```bash
# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º Binding —á–µ—Ä–µ–∑ API
kubectl proxy &

curl -X POST \
  http://localhost:8001/api/v1/namespaces/default/pods/nginx-pod/binding \
  -H "Content-Type: application/json" \
  -d @binding.json
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å kubectl:**
```bash
# –ü—Ä—è–º–æ–π POST —á–µ—Ä–µ–∑ kubectl
kubectl create --raw /api/v1/namespaces/default/pods/nginx-pod/binding \
  -f binding.json
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```bash
# Pod –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –≤ Running –∏ –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ worker-node-01
kubectl get pods -o wide

# NAME        READY   STATUS    RESTARTS   AGE   NODE
# nginx-pod   1/1     Running   0          30s   worker-node-01
```

---

## –°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ Binding

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Pod (Pending)         ‚îÇ
‚îÇ   nodeName: null        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –°–æ–∑–¥–∞—ë–º Binding       ‚îÇ
‚îÇ   target: node-01       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   POST –≤ Binding API    ‚îÇ
‚îÇ   /pods/NAME/binding    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   API-server            ‚îÇ
‚îÇ   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç         ‚îÇ
‚îÇ   nodeName: node-01     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Kubelet –Ω–∞ node-01    ‚îÇ
‚îÇ   –ó–∞–ø—É—Å–∫–∞–µ—Ç Pod         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> üí° **–°—É—Ç—å –º–µ—Ç–æ–¥–∞:** –ú—ã –ø—Ä–∏—Ç–≤–æ—Ä—è–µ–º—Å—è scheduler'–æ–º –∏ –¥–µ–ª–∞–µ–º —Ç–æ –∂–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –æ–Ω - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—ä–µ–∫—Ç Binding –≤ API.

---

</details>

<details>
<summary><b>‚öôÔ∏è–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?</b></summary>

---

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç scheduler**
   - –¢–µ—Å—Ç–æ–≤—ã–µ/—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã
   - Minimal Kubernetes setup

2. **–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
   - Pod –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—Ç–æ—á–Ω–æ** –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —É–∑–ª–µ
   - –£–∑–µ–ª –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (GPU, SSD)

3. **–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —É–∑–ª–µ
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É–∑–ª–∞—Ö

4. **Static Pods**
   - Pod'—ã —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –Ω–∞–ø—Ä—è–º—É—é kubelet
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–º—ã –∏–∑—É—á–∏–º –ø–æ–∑–∂–µ)

### ‚ùå –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **–í production —Å scheduler'–æ–º**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ nodeSelector, nodeAffinity, taints/tolerations
   - Scheduler –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ª—É—á—à–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ

2. **–î–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏**
   - Scheduler —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã, –ø–æ–ª–∏—Ç–∏–∫–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
   - –†—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ —É–∑–ª–∞

3. **–î–ª—è –≤—ã—Å–æ–∫–æ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
   - Scheduler –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏ —Å–±–æ—è—Ö
   - –†—É—á–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–Ω–æ

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –†—É—á–Ω–æ–µ vs –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

| –ê—Å–ø–µ–∫—Ç | –†—É—á–Ω–æ–µ (nodeName) | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (scheduler) |
|--------|-------------------|---------------------------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | ‚úÖ –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ | ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ |
| **–ì–∏–±–∫–æ—Å—Ç—å** | ‚ùå –°—Ç–∞—Ç–∏—á–Ω–æ | ‚úÖ –î–∏–Ω–∞–º–∏—á–Ω–æ |
| **–£—á—ë—Ç —Ä–µ—Å—É—Ä—Å–æ–≤** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –¢–µ—Å—Ç—ã, –æ—Ç–ª–∞–¥–∫–∞ | Production |

---

</details>

<details>
<summary><b>üéØ–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</b></summary>

---

## –ü—Ä–∏–º–µ—Ä 1: –£–∑–Ω–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É–∑–ª—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É–∑–ª–æ–≤
kubectl get nodes

# NAME              STATUS   ROLES           AGE   VERSION
# master-node       Ready    control-plane   10d   v1.28.0
# worker-node-01    Ready    <none>          10d   v1.28.0
# worker-node-02    Ready    <none>          10d   v1.28.0
```

---

## –ü—Ä–∏–º–µ—Ä 2: –°–æ–∑–¥–∞—Ç—å Pod —Å —Ä—É—á–Ω—ã–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º

```yaml
# pod-on-node01.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-on-node01
spec:
  nodeName: worker-node-01  # –†—É—á–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
  containers:
  - name: nginx
    image: nginx:latest
    ports:
    - containerPort: 80
```

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å
kubectl apply -f pod-on-node01.yaml

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
kubectl get pod nginx-on-node01 -o wide
# NAME               READY   STATUS    NODE
# nginx-on-node01    1/1     Running   worker-node-01
```

---

## –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å nodeName (–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
# –°–æ–∑–¥–∞—ë–º Pod
kubectl run test-pod --image=nginx

# –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–º–µ–Ω–∏—Ç—å nodeName
kubectl patch pod test-pod -p '{"spec":{"nodeName":"worker-node-02"}}'

# –û—à–∏–±–∫–∞:
# The Pod "test-pod" is invalid: spec: Forbidden: pod updates may not 
# change fields other than `spec.containers[*].image`
```

> ‚ùå **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å nodeName —É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Pod!

---

## –ü—Ä–∏–º–µ—Ä 4: Binding –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Pod

```bash
# 1. –°–æ–∑–¥–∞—Ç—å Pod –±–µ–∑ scheduler (–æ—Å—Ç–∞–Ω–µ—Ç—Å—è Pending –µ—Å–ª–∏ –Ω–µ—Ç scheduler)
cat <<EOF | kubectl apply -f -
apiVersion: v1
kind: Pod
metadata:
  name: manual-bind-pod
spec:
  containers:
  - name: nginx
    image: nginx
EOF

# 2. –°–æ–∑–¥–∞—Ç—å Binding –æ–±—ä–µ–∫—Ç
cat <<EOF > binding.json
{
  "apiVersion": "v1",
  "kind": "Binding",
  "metadata": {
    "name": "manual-bind-pod"
  },
  "target": {
    "apiVersion": "v1",
    "kind": "Node",
    "name": "worker-node-02"
  }
}
EOF

# 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ API
kubectl create --raw /api/v1/namespaces/default/pods/manual-bind-pod/binding \
  -f binding.json

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
kubectl get pod manual-bind-pod -o wide
```

---

## –ü—Ä–∏–º–µ—Ä 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Pod –Ω–∞–∑–Ω–∞—á–µ–Ω –≤—Ä—É—á–Ω—É—é

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é Pod
kubectl get pod nginx-on-node01 -o yaml | grep nodeName

# –í—ã–≤–æ–¥:
# nodeName: worker-node-01

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–±—ã—Ç–∏—è Pod (–Ω–µ –±—É–¥–µ—Ç —Å–æ–±—ã—Ç–∏–π –æ—Ç scheduler)
kubectl describe pod nginx-on-node01 | grep -A 5 Events
```

---

</details>

<details>
<summary><b>üìö–†–µ–∑—é–º–µ</b></summary>

---

## –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–æ–ª–µ nodeName**
   - Scheduler –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç—Ç–æ –ø–æ–ª–µ
   - –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Pod
   - –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Pod

2. **–î–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ä—É—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
   - **–°–ø–æ—Å–æ–± 1:** –£–∫–∞–∑–∞—Ç—å `nodeName` –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
   - **–°–ø–æ—Å–æ–± 2:** –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç `Binding` –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ API

3. **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**
   - ‚úÖ –ù–µ—Ç scheduler –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
   - ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —É–∑–ª—É
   - ‚úÖ –û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ production —Å scheduler

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
   - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
   - –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
   - –°—Ç–∞—Ç–∏—á–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–í production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã:
- **Labels and Selectors** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É–∑–ª–æ–≤ –ø–æ –º–µ—Ç–∫–∞–º
- **Node Selectors** - –ø—Ä–æ—Å—Ç–æ–π –≤—ã–±–æ—Ä —É–∑–ª–æ–≤
- **Node Affinity** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —É–∑–ª–∞–º
- **Taints and Tolerations** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —É–∑–ª–∞–º

> üí° **–í—ã–≤–æ–¥:** –†—É—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π. –í –æ–±—ã—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ scheduler –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ nodeSelector/affinity –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è.

---

</details>

