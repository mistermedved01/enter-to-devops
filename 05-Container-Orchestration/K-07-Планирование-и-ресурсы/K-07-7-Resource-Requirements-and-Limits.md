[üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Üí [‚ò∏Ô∏è Container-Orchestration](../../README.md#-container-orchestration) ‚Üí [üéØ K-07-–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—Ä–µ—Å—É—Ä—Å—ã](../../README.md#-k-07-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—Ä–µ—Å—É—Ä—Å—ã)

---

# üìäK-07-7-Resource-Requirements-and-Limits
>Resource Requirements and Limits ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, –ø–∞–º—è—Ç—å) –¥–ª—è Pod'–æ–≤ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Kubernetes

---

<details>
<summary><b>üîç–ß—Ç–æ —Ç–∞–∫–æ–µ Resource Requirements –∏ Limits?</b></summary>

---

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

–ö–∞–∂–¥—ã–π Pod –≤ Kubernetes –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å—ã —É–∑–ª–∞:
- üñ•Ô∏è **CPU** (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä)
- üíæ **Memory** (–ø–∞–º—è—Ç—å)
- üíø **Disk** (–¥–∏—Å–∫)

**–ê–Ω–∞–ª–æ–≥–∏—è —Å —Ç–µ—Ç—Ä–∏—Å–æ–º:**
- –£–∑–µ–ª = –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- Pod = —Ñ–∏–≥—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–Ω–∏–º–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤
- Scheduler = –∏–≥—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ–∏–≥—É—Ä—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º

---

## –ö–∞–∫ Scheduler –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã?

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Kubernetes Cluster                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ  Node 1          Node 2          Node 3                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ 4 CPU   ‚îÇ    ‚îÇ 8 CPU   ‚îÇ    ‚îÇ 2 CPU   ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ 8 GB    ‚îÇ    ‚îÇ 16 GB   ‚îÇ    ‚îÇ 4 GB    ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ    ‚îÇ         ‚îÇ    ‚îÇ         ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ Pod A   ‚îÇ    ‚îÇ Pod B   ‚îÇ    ‚îÇ Pod C   ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ (2 CPU) ‚îÇ    ‚îÇ (1 CPU) ‚îÇ    ‚îÇ (1 CPU) ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ    ‚îÇ         ‚îÇ    ‚îÇ         ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ 2 CPU   ‚îÇ    ‚îÇ 7 CPU   ‚îÇ    ‚îÇ 1 CPU   ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ —Å–≤–æ–±–æ–¥–Ω–æ‚îÇ    ‚îÇ —Å–≤–æ–±–æ–¥–Ω–æ‚îÇ    ‚îÇ —Å–≤–æ–±–æ–¥–Ω–æ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  –ù–æ–≤—ã–π Pod: 1 CPU, 2 GB –ø–∞–º—è—Ç–∏                          ‚îÇ
‚îÇ  ‚Üì                                                      ‚îÇ
‚îÇ  Scheduler –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã                  ‚îÇ
‚îÇ  ‚Üì                                                      ‚îÇ
‚îÇ  ‚úÖ Node 2: 7 CPU ‚â• 1 CPU ‚Üí –†–∞–∑–º–µ—â–µ–Ω!                 ‚îÇ
‚îÇ                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Scheduler:**
1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Ä–µ—Å—É—Ä—Å–æ–≤ Pod'–∞ (requests)
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ —É–∑–ª–∞—Ö
3. –í—ã–±–∏—Ä–∞–µ—Ç —É–∑–µ–ª —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
4. –†–∞–∑–º–µ—â–∞–µ—Ç Pod –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —É–∑–ª–µ

**–ï—Å–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:**
- Pod –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `Pending`
- –í —Å–æ–±—ã—Ç–∏—è—Ö –≤–∏–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞: `Insufficient cpu` –∏–ª–∏ `Insufficient memory`

---

</details>

<details>
<summary><b>üìãRequests: –ó–∞–ø—Ä–æ—Å—ã —Ä–µ—Å—É—Ä—Å–æ–≤</b></summary>

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ Requests?

**Requests** ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã.

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã:**
- ‚úÖ Scheduler –∏—Å–ø–æ–ª—å–∑—É–µ—Ç requests –¥–ª—è –≤—ã–±–æ—Ä–∞ —É–∑–ª–∞
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ Pod –ø–æ–ª—É—á–∏—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- ‚úÖ –ü–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É

---

## –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å requests —è–≤–Ω–æ, Kubernetes –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

| –†–µ—Å—É—Ä—Å | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|--------|----------------------|
| **CPU** | 0.5 (500m) |
| **Memory** | 256Mi |

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ requests —è–≤–Ω–æ!

---

## –£–∫–∞–∑–∞–Ω–∏–µ Requests –≤ Pod

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
  - name: app
    image: myapp:latest
    resources:
      requests:
        memory: "1Gi"
        cpu: "1"
```

### –ü—Ä–∏–º–µ—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: resource-example
spec:
  containers:
  - name: app
    image: myapp:latest
    resources:
      requests:
        memory: "512Mi"
        cpu: "0.5"
  - name: sidecar
    image: sidecar:latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "0.3"
```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** Requests —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–ª—è **–∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** –≤–Ω—É—Ç—Ä–∏ Pod'–∞, –∞ –Ω–µ –¥–ª—è Pod'–∞ –≤ —Ü–µ–ª–æ–º.

---

## –ö–∞–∫ Scheduler –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Requests?

```
–ù–æ–≤—ã–π Pod —Å–æ–∑–¥–∞–Ω:
  requests:
    cpu: 1
    memory: 2Gi

Scheduler –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É–∑–ª—ã:
  Node 1: 2 CPU —Å–≤–æ–±–æ–¥–Ω–æ, 4 GB —Å–≤–æ–±–æ–¥–Ω–æ ‚Üí ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç
  Node 2: 0.5 CPU —Å–≤–æ–±–æ–¥–Ω–æ, 1 GB —Å–≤–æ–±–æ–¥–Ω–æ ‚Üí ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
  Node 3: 3 CPU —Å–≤–æ–±–æ–¥–Ω–æ, 8 GB —Å–≤–æ–±–æ–¥–Ω–æ ‚Üí ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç

Scheduler –≤—ã–±–∏—Ä–∞–µ—Ç Node 1 (–º–µ–Ω—å—à–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
```

**–õ–æ–≥–∏–∫–∞:**
1. Scheduler —Å—É–º–º–∏—Ä—É–µ—Ç requests –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Pod'–µ
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –Ω–∞ —É–∑–ª–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
3. –†–∞–∑–º–µ—â–∞–µ—Ç Pod —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

---

</details>

<details>
<summary><b>‚öôÔ∏è–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è CPU</b></summary>

---

## –§–æ—Ä–º–∞—Ç—ã –∑–∞–ø–∏—Å–∏ CPU

CPU –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:

### 1. –¶–µ–ª—ã–µ —á–∏—Å–ª–∞ (cores)

```yaml
resources:
  requests:
    cpu: "1"      # 1 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π CPU
    cpu: "2"      # 2 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö CPU
```

**–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 1 CPU?**
- 1 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π CPU –≤ AWS
- 1 —è–¥—Ä–æ –≤ GCP –∏–ª–∏ Azure
- 1 Hyperthread

### 2. –î–µ—Å—è—Ç–∏—á–Ω—ã–µ –¥—Ä–æ–±–∏

```yaml
resources:
  requests:
    cpu: "0.5"    # –ü–æ–ª–æ–≤–∏–Ω–∞ CPU
    cpu: "0.3"    # 0.3 CPU
    cpu: "0.1"    # 0.1 CPU
```

### 3. –ú–∏–ª–ª–∏ (milli)

```yaml
resources:
  requests:
    cpu: "500m"   # 500 –º–∏–ª–ª–∏ = 0.5 CPU
    cpu: "300m"   # 300 –º–∏–ª–ª–∏ = 0.3 CPU
    cpu: "100m"   # 100 –º–∏–ª–ª–∏ = 0.1 CPU
    cpu: "50m"    # 50 –º–∏–ª–ª–∏ = 0.05 CPU
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `1m` (0.001 CPU)
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç `1m` –∏ –≤—ã—à–µ
- `1000m` = `1` CPU

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ CPU

```yaml
# –õ–µ–≥–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    cpu: "100m"     # 0.1 CPU

# –°—Ä–µ–¥–Ω–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    cpu: "500m"     # 0.5 CPU

# –¢—è–∂–µ–ª–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    cpu: "2"        # 2 CPU

# –û—á–µ–Ω—å –ª–µ–≥–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    cpu: "50m"       # 0.05 CPU
```

---

</details>

<details>
<summary><b>üíæ–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø–∞–º—è—Ç–∏</b></summary>

---

## –§–æ—Ä–º–∞—Ç—ã –∑–∞–ø–∏—Å–∏ –ø–∞–º—è—Ç–∏

### 1. –ë–∏–Ω–∞—Ä–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```yaml
resources:
  requests:
    memory: "256Mi"   # 256 –º–µ–±–∏–±–∞–π—Ç
    memory: "512Mi"   # 512 –º–µ–±–∏–±–∞–π—Ç
    memory: "1Gi"     # 1 –≥–∏–±–∏–±–∞–π—Ç
    memory: "2Gi"     # 2 –≥–∏–±–∏–±–∞–π—Ç–∞
```

**–°—É—Ñ—Ñ–∏–∫—Å—ã:**
- `Ki` ‚Äî –∫–∏–±–∏–±–∞–π—Ç (1024 –±–∞–π—Ç–∞)
- `Mi` ‚Äî –º–µ–±–∏–±–∞–π—Ç (1024 √ó 1024 = 1,048,576 –±–∞–π—Ç)
- `Gi` ‚Äî –≥–∏–±–∏–±–∞–π—Ç (1024 √ó 1024 √ó 1024 = 1,073,741,824 –±–∞–π—Ç)
- `Ti` ‚Äî —Ç–µ–±–∏–±–∞–π—Ç (1024^4 –±–∞–π—Ç)

### 2. –î–µ—Å—è—Ç–∏—á–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã

```yaml
resources:
  requests:
    memory: "256M"    # 256 –º–µ–≥–∞–±–∞–π—Ç (256 √ó 10^6 –±–∞–π—Ç)
    memory: "1G"      # 1 –≥–∏–≥–∞–±–∞–π—Ç (1 √ó 10^9 –±–∞–π—Ç)
    memory: "500M"   # 500 –º–µ–≥–∞–±–∞–π—Ç
```

**–°—É—Ñ—Ñ–∏–∫—Å—ã:**
- `K` –∏–ª–∏ `k` ‚Äî –∫–∏–ª–æ–±–∞–π—Ç (1000 –±–∞–π—Ç)
- `M` ‚Äî –º–µ–≥–∞–±–∞–π—Ç (1000 √ó 1000 = 1,000,000 –±–∞–π—Ç)
- `G` ‚Äî –≥–∏–≥–∞–±–∞–π—Ç (1000 √ó 1000 √ó 1000 = 1,000,000,000 –±–∞–π—Ç)
- `T` ‚Äî —Ç–µ—Ä–∞–±–∞–π—Ç (1000^4 –±–∞–π—Ç)

### 3. –ë–∞–π—Ç—ã (–±–µ–∑ —Å—É—Ñ—Ñ–∏–∫—Å–∞)

```yaml
resources:
  requests:
    memory: "268435456"  # 256 Mi –≤ –±–∞–π—Ç–∞—Ö
```

---

## –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Mi –∏ M

| –°—É—Ñ—Ñ–∏–∫—Å | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `Mi` | –ú–µ–±–∏–±–∞–π—Ç (1024^2) | `256Mi` = 268,435,456 –±–∞–π—Ç |
| `M` | –ú–µ–≥–∞–±–∞–π—Ç (1000^2) | `256M` = 256,000,000 –±–∞–π—Ç |
| `Gi` | –ì–∏–±–∏–±–∞–π—Ç (1024^3) | `1Gi` = 1,073,741,824 –±–∞–π—Ç |
| `G` | –ì–∏–≥–∞–±–∞–π—Ç (1000^3) | `1G` = 1,000,000,000 –±–∞–π—Ç |

**–†–∞–∑–Ω–∏—Ü–∞:**
- `1Gi` = 1,073,741,824 –±–∞–π—Ç (–±–æ–ª—å—à–µ)
- `1G` = 1,000,000,000 –±–∞–π—Ç (–º–µ–Ω—å—à–µ)

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã (`Mi`, `Gi`) –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Å Kubernetes –∏ Linux.

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–∞–º—è—Ç–∏

```yaml
# –õ–µ–≥–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    memory: "128Mi"    # 128 –º–µ–±–∏–±–∞–π—Ç

# –°—Ä–µ–¥–Ω–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    memory: "512Mi"    # 512 –º–µ–±–∏–±–∞–π—Ç

# –¢—è–∂–µ–ª–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    memory: "2Gi"      # 2 –≥–∏–±–∏–±–∞–π—Ç–∞

# –û—á–µ–Ω—å –ª–µ–≥–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
resources:
  requests:
    memory: "64Mi"      # 64 –º–µ–±–∏–±–∞–π—Ç–∞
```

---

</details>

<details>
<summary><b>üö´Limits: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</b></summary>

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ Limits?

**Limits** ‚Äî —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã:**
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –º–æ–Ω–æ–ø–æ–ª–∏–∑–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤ –æ–¥–Ω–∏–º Pod'–æ–º
- ‚úÖ –ó–∞—â–∏—â–∞—é—Ç –¥—Ä—É–≥–∏–µ Pod'—ã –Ω–∞ —Ç–æ–º –∂–µ —É–∑–ª–µ
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å limits —è–≤–Ω–æ, Kubernetes —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

| –†–µ—Å—É—Ä—Å | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|--------|----------------------|
| **CPU** | 1 (1000m) |
| **Memory** | 512Mi |

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ù–ï –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. Kubernetes –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## –£–∫–∞–∑–∞–Ω–∏–µ Limits –≤ Pod

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
  - name: app
    image: myapp:latest
    resources:
      requests:
        memory: "1Gi"
        cpu: "1"
      limits:
        memory: "2Gi"
        cpu: "2"
```

---

## Requests vs Limits

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –†–µ—Å—É—Ä—Å—ã Pod'–∞                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ  Requests (–∑–∞–ø—Ä–æ—Å—ã)           Limits (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ CPU: 1      ‚îÇ              ‚îÇ CPU: 2      ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ Memory: 1Gi ‚îÇ              ‚îÇ Memory: 2Gi ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ         ‚îÇ                            ‚îÇ                  ‚îÇ
‚îÇ         ‚îÇ                            ‚îÇ                  ‚îÇ
‚îÇ         ‚ñº                            ‚ñº                  ‚îÇ
‚îÇ  –ú–∏–Ω–∏–º—É–º:             –ú–∞–∫—Å–∏–º—É–º:                        ‚îÇ
‚îÇ  - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è     - –ù–µ–ª—å–∑—è –ø—Ä–µ–≤—ã—Å–∏—Ç—å               ‚îÇ
‚îÇ  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è      - CPU: throttling                ‚îÇ
‚îÇ    scheduler'–æ–º       - Memory: OOM Kill                ‚îÇ
‚îÇ                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ:**
- `requests` ‚â§ `limits` (–æ–±—ã—á–Ω–æ)
- `requests` = `limits` (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- `requests` < `limits` (–¥–ª—è burst-–Ω–∞–≥—Ä—É–∑–æ–∫)

---

</details>

<details>
<summary><b>‚ö°–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ Limits?</b></summary>

---

## CPU: Throttling (—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ CPU limit:**

```
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ CPU, —á–µ–º limit
    ‚Üì
Kubernetes —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç (throttles) CPU
    ‚Üì
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ù–ï –ú–û–ñ–ï–¢ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ, —á–µ–º limit
    ‚Üì
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
```

**–ü—Ä–∏–º–µ—Ä:**
```yaml
resources:
  limits:
    cpu: "1"
```

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 2 CPU, Kubernetes –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –µ–≥–æ –¥–æ 1 CPU —á–µ—Ä–µ–∑ throttling.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚ö†Ô∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ CPU, —á–µ–º —É–∫–∞–∑–∞–Ω–æ –≤ limit

---

## Memory: OOM Kill (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞)

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ Memory limit:**

```
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º limit
    ‚Üì
Kubernetes –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ
    ‚Üì
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è (OOM Kill)
    ‚Üì
Pod –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–µ—Å–ª–∏ restartPolicy –ø–æ–∑–≤–æ–ª—è–µ—Ç)
```

**–ü—Ä–∏–º–µ—Ä:**
```yaml
resources:
  limits:
    memory: "512Mi"
```

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 1Gi –ø–∞–º—è—Ç–∏, Kubernetes –∑–∞–≤–µ—Ä—à–∏—Ç –µ–≥–æ (OOM Kill).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- ‚ùå Pod –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `CrashLoopBackOff`
- ‚úÖ –î—Ä—É–≥–∏–µ Pod'—ã –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –†–µ—Å—É—Ä—Å | –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ limit | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|---------------------|-----------|
| **CPU** | Throttling | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å |
| **Memory** | OOM Kill | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, Pod –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è |

---

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ CPU limit

```yaml
resources:
  requests:
    cpu: "1"
  limits:
    cpu: "1"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç 2 CPU –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- Kubernetes –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ 1 CPU
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ Memory limit

```yaml
resources:
  requests:
    memory: "512Mi"
  limits:
    memory: "512Mi"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 1Gi –ø–∞–º—è—Ç–∏
- Kubernetes –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (OOM Kill)
- Pod –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

---

</details>

<details>
<summary><b>üìã–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</b></summary>

---

## –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π Pod —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: web-app
spec:
  containers:
  - name: web
    image: nginx:latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º—É–º: 256Mi –ø–∞–º—è—Ç–∏, 0.2 CPU
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º—É–º: 512Mi –ø–∞–º—è—Ç–∏, 0.5 CPU

---

## –ü—Ä–∏–º–µ—Ä 2: Pod —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: multi-container
spec:
  containers:
  - name: app
    image: myapp:latest
    resources:
      requests:
        memory: "1Gi"
        cpu: "1"
      limits:
        memory: "2Gi"
        cpu: "2"
  - name: sidecar
    image: sidecar:latest
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"
```

**–°—É–º–º–∞—Ä–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã Pod'–∞:**
- Requests: 1.1 CPU, 1.128Gi –ø–∞–º—è—Ç–∏
- Limits: 2.2 CPU, 2.256Gi –ø–∞–º—è—Ç–∏

---

## –ü—Ä–∏–º–µ—Ä 3: –¢—è–∂–µ–ª–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: database
spec:
  containers:
  - name: postgres
    image: postgres:14
    resources:
      requests:
        memory: "4Gi"
        cpu: "2"
      limits:
        memory: "8Gi"
        cpu: "4"
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º—É–º: 4Gi –ø–∞–º—è—Ç–∏, 2 CPU
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º—É–º: 8Gi –ø–∞–º—è—Ç–∏, 4 CPU

---

## –ü—Ä–∏–º–µ—Ä 4: –õ–µ–≥–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: microservice
spec:
  containers:
  - name: app
    image: microservice:latest
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º—É–º: 128Mi –ø–∞–º—è—Ç–∏, 0.1 CPU
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º—É–º: 256Mi –ø–∞–º—è—Ç–∏, 0.2 CPU

---

</details>

<details>
<summary><b>üîßLimitRange: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</b></summary>

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ LimitRange?

**LimitRange** ‚Äî –æ–±—ä–µ–∫—Ç Kubernetes, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è Pod'–æ–≤ –≤ namespace.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç defaults –¥–ª—è requests –∏ limits
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º—É–º—ã –∏ –º–∞–∫—Å–∏–º—É–º—ã
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ –≤—Å–µ–º Pod'–∞–º –≤ namespace

---

## –°–æ–∑–¥–∞–Ω–∏–µ LimitRange

```yaml
apiVersion: v1
kind: LimitRange
metadata:
  name: default-limits
  namespace: production
spec:
  limits:
  - default:
      memory: "512Mi"
      cpu: "500m"
    defaultRequest:
      memory: "256Mi"
      cpu: "250m"
    type: Container
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ï—Å–ª–∏ Pod –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç `limits` ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è `default` –∑–Ω–∞—á–µ–Ω–∏—è
- –ï—Å–ª–∏ Pod –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç `requests` ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è `defaultRequest` –∑–Ω–∞—á–µ–Ω–∏—è

---

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ —Å–æ–∑–¥–∞–Ω–∏—è LimitRange

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: pod-without-resources
spec:
  containers:
  - name: app
    image: myapp:latest
    # –ù–µ—Ç resources!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Kubernetes (0.5 CPU, 256Mi)

### –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è LimitRange

```yaml
apiVersion: v1
kind: LimitRange
metadata:
  name: default-limits
spec:
  limits:
  - default:
      memory: "1Gi"
      cpu: "1"
    defaultRequest:
      memory: "512Mi"
      cpu: "500m"
    type: Container
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Pod –±–µ–∑ resources –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç:
  - `requests: memory: 512Mi, cpu: 500m`
  - `limits: memory: 1Gi, cpu: 1`

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ LimitRange

LimitRange —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º—ã –∏ –º–∞–∫—Å–∏–º—É–º—ã:

```yaml
apiVersion: v1
kind: LimitRange
metadata:
  name: resource-limits
spec:
  limits:
  - max:
      memory: "2Gi"
      cpu: "2"
    min:
      memory: "128Mi"
      cpu: "100m"
    type: Container
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- ‚ùå Pod –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –±–æ–ª—å—à–µ 2Gi –ø–∞–º—è—Ç–∏ –∏–ª–∏ 2 CPU
- ‚ùå Pod –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –º–µ–Ω—å—à–µ 128Mi –ø–∞–º—è—Ç–∏ –∏–ª–∏ 0.1 CPU

---

</details>

<details>
<summary><b>üõ†Ô∏è–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞</b></summary>

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ Pod'–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Å—É—Ä—Å–æ–≤ Pod'–∞
kubectl get pod my-pod -o jsonpath='{.spec.containers[*].resources}'

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Pod'–µ
kubectl describe pod my-pod
```

**–í—ã–≤–æ–¥ `kubectl describe pod`:**
```
Containers:
  app:
    Limits:
      cpu:     1
      memory:  512Mi
    Requests:
      cpu:     500m
      memory:  256Mi
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ —É–∑–ª–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ —É–∑–ª–µ
kubectl describe node node01
```

**–í—ã–≤–æ–¥:**
```
Allocatable:
  cpu:                4
  memory:             8Gi
  
Allocated resources:
  (Total limits may be over 100 percent, i.e., overcommitted.)
  Resource           Requests    Limits
  --------           --------     ------
  cpu                2000m (50%)  3000m (75%)
  memory             2Gi (25%)    4Gi (50%)
```

---

## –û—Ç–ª–∞–¥–∫–∞ Pod –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Pending

–ï—Å–ª–∏ Pod –æ—Å—Ç–∞–ª—Å—è –≤ `Pending`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π Pod'–∞
kubectl describe pod my-pod
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
```
Events:
  Warning  FailedScheduling  pod/my-pod  insufficient cpu
  Warning  FailedScheduling  pod/my-pod  insufficient memory
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–º–µ–Ω—å—à–∏—Ç–µ requests –≤ Pod'–µ
- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ —É–∑–ª–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä
- –û—Å–≤–æ–±–æ–¥–∏—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É–∑–ª–∞—Ö

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ LimitRange

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä LimitRange –≤ namespace
kubectl get limitrange -n production

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
kubectl describe limitrange default-limits -n production
```

---

</details>

<details>
<summary><b>üí°–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</b></summary>

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### 1. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ requests

**–ü–ª–æ—Ö–æ:**
```yaml
resources:
  limits:
    memory: "1Gi"
    cpu: "1"
```

**–•–æ—Ä–æ—à–æ:**
```yaml
resources:
  requests:
    memory: "512Mi"
    cpu: "500m"
  limits:
    memory: "1Gi"
    cpu: "1"
```

**–ü–æ—á–µ–º—É:**
- Requests –ø–æ–º–æ–≥–∞—é—Ç scheduler'—É –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ —Ä–∞–∑–º–µ—â–∞—Ç—å Pod'—ã
- –ë–µ–∑ requests –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)

---

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è:**
- `limits` = `2 √ó requests` (–¥–ª—è burst-–Ω–∞–≥—Ä—É–∑–æ–∫)
- `limits` = `requests` (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

**–ü—Ä–∏–º–µ—Ä:**
```yaml
resources:
  requests:
    memory: "512Mi"
    cpu: "500m"
  limits:
    memory: "1Gi"      # 2 √ó requests
    cpu: "1"           # 2 √ó requests
```

---

### 3. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
1. –ù–∞—á–Ω–∏—Ç–µ —Å –Ω–µ–±–æ–ª—å—à–∏—Ö requests
2. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
3. –£–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä:**
```yaml
# –ù–∞—á–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
resources:
  requests:
    memory: "256Mi"
    cpu: "200m"
  limits:
    memory: "512Mi"
    cpu: "400m"
```

---

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LimitRange –¥–ª—è namespace

**–°–æ–∑–¥–∞–π—Ç–µ LimitRange –¥–ª—è –∫–∞–∂–¥–æ–≥–æ namespace:**

```yaml
apiVersion: v1
kind: LimitRange
metadata:
  name: default-limits
  namespace: production
spec:
  limits:
  - default:
      memory: "512Mi"
      cpu: "500m"
    defaultRequest:
      memory: "256Mi"
      cpu: "250m"
    type: Container
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤ namespace
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–±—ã–≤—á–∏–≤–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

### 5. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl top pod
kubectl top node
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:**
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ requests –∏ limits
- –í—ã—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ requests

**–ü—Ä–æ–±–ª–µ–º–∞:**
```yaml
resources:
  limits:
    memory: "1Gi"
    cpu: "1"
```

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
resources:
  requests:
    memory: "512Mi"
    cpu: "500m"
  limits:
    memory: "1Gi"
    cpu: "1"
```

### –û—à–∏–±–∫–∞ 2: –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ limits

**–ü—Ä–æ–±–ª–µ–º–∞:**
```yaml
resources:
  limits:
    memory: "100Gi"
    cpu: "100"
```

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ limits –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

### –û—à–∏–±–∫–∞ 3: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
```yaml
resources:
  requests:
    memory: "1G"    # –î–µ—Å—è—Ç–∏—á–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞
    cpu: "1"
```

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã (`Mi`, `Gi`) –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.

---

</details>

---

## –†–µ–∑—é–º–µ

‚úÖ **Resource Requirements and Limits** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ Pod'–æ–≤

‚úÖ **Requests:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è scheduler'–æ–º –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è Pod'–æ–≤
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.5 CPU, 256Mi –ø–∞–º—è—Ç–∏

‚úÖ **Limits:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1 CPU, 512Mi –ø–∞–º—è—Ç–∏
- CPU: throttling –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- Memory: OOM Kill –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏

‚úÖ **–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è:**
- CPU: —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –¥—Ä–æ–±–∏, –º–∏–ª–ª–∏ (`1`, `0.5`, `500m`)
- Memory: –±–∏–Ω–∞—Ä–Ω—ã–µ (`Mi`, `Gi`) –∏–ª–∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ (`M`, `G`)

‚úÖ **LimitRange:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç defaults –¥–ª—è namespace
- –ú–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º—ã –∏ –º–∞–∫—Å–∏–º—É–º—ã

‚úÖ **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ requests –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ limits –¥–ª—è –∑–∞—â–∏—Ç—ã –¥—Ä—É–≥–∏—Ö Pod'–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LimitRange –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –≤ namespace

---