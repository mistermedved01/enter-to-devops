[üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Üí [üêß Linux](../../README.md#-linux) ‚Üí [üéõÔ∏è L-09-Systemd-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å–∞–º–∏](../../README.md#-l-09-systemd-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å–∞–º–∏)

---

# üéõÔ∏èL-09-2-–°–æ–∑–¥–∞–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å–æ–≤

## –¢–µ–æ—Ä–∏—è

### Unit —Ñ–∞–π–ª—ã
- .service - —Å–µ—Ä–≤–∏—Å—ã
- .target - —Ü–µ–ª–∏
- .timer - —Ç–∞–π–º–µ—Ä—ã
- .mount - –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- .socket - —Å–æ–∫–µ—Ç—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ service —Ñ–∞–π–ª–∞
- [Unit] - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [Service] - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞
- [Install] - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

## –ü—Ä–∞–∫—Ç–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ service —Ñ–∞–π–ª–∞
sudo nano /etc/systemd/system/myapp.service
```

```ini
[Unit]
Description=My Application
After=network.target

[Service]
Type=simple
User=myapp
Group=myapp
WorkingDirectory=/opt/myapp
ExecStart=/opt/myapp/myapp
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl enable myapp.service
sudo systemctl start myapp.service
```

### –¢–∏–ø—ã —Å–µ—Ä–≤–∏—Å–æ–≤
```ini
# Type=simple - –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å
Type=simple
ExecStart=/usr/bin/myapp

# Type=forking - –¥–µ–º–æ–Ω —Å —Ñ–æ—Ä–∫–∏–Ω–≥–æ–º
Type=forking
ExecStart=/usr/bin/myapp
PIDFile=/var/run/myapp.pid

# Type=oneshot - –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
Type=oneshot
ExecStart=/usr/bin/init-script
RemainAfterExit=yes
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —É—Å–ª–æ–≤–∏—è
```ini
[Unit]
# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
Requires=network.target
Wants=mysql.service
After=network.target mysql.service

# –£—Å–ª–æ–≤–∏—è
ConditionPathExists=/opt/myapp/config.conf
ConditionUser=!root
```

---

‚úçÔ∏è**–í–æ–ø—Ä–æ—Å—ã**

1. –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π systemd —Å–µ—Ä–≤–∏—Å?

2. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Type=simple –∏ Type=forking?

3. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏?

4. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞?

5. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞?

6. –ß—Ç–æ —Ç–∞–∫–æ–µ RemainAfterExit?

7. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Å–ª–æ–≤–∏—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞?

8. –ö–∞–∫ –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–∏—Å–æ–º?

9. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞?

10. –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å systemd —Ç–∞–π–º–µ—Ä –≤–º–µ—Å—Ç–æ cron?
