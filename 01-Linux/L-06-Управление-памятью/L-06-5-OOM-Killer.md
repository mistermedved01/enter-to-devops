[üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Üí [üêß Linux](../../README.md#-linux) ‚Üí [üíæ L-06-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é](../../README.md#-l-06-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é)

---

# üíæL-06-5-OOM-Killer (Out Of Memory Killer)

## –ß—Ç–æ —Ç–∞–∫–æ–µ OOM Killer?

**OOM Killer** - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º —è–¥—Ä–∞ Linux, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ swap-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π –∫—Ä–∞—Ö —Å–∏—Å—Ç–µ–º—ã.

## –ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç OOM Killer?

- **–ò—Å—á–µ—Ä–ø–∞–Ω–∞ RAM** - –≤—Å—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å –∑–∞–Ω—è—Ç–∞

- **–ò—Å—á–µ—Ä–ø–∞–Ω SWAP** - –≤—Å–µ swap-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–æ

- **–ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏** - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç OOM Killer?

**–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ –∂–µ—Ä—Ç–≤—ã:**

1. **–ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
2. **–í—ã–±–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞** —Å –Ω–∞–∏–≤—ã—Å—à–∏–º —Å—á–µ—Ç–æ–º
3. **–û—Ç–ø—Ä–∞–≤–∫–∞ SIGKILL** –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É
4. **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

**–§–∞–∫—Ç–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –≤—ã–±–æ—Ä:**

- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** - –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ = –≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã** - –Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —á–∞—â–µ

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞** - –ø—Ä–æ—Ü–µ—Å—Å—ã —Å –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** - –ø—Ä–æ—Ü–µ—Å—Å—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ—Ç–æ–º–∫–æ–≤ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Ä–µ–∂–µ

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OOM Killer:

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ OOM:**

```Shell
# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
dmesg | grep -i "killed process"

# –ñ—É—Ä–Ω–∞–ª systemd
journalctl | grep -i "killed process"
```

**–û—Ç–∫–ª—é—á–µ–Ω–∏–µ OOM Killer –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞:**

```Shell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ OOM_DISABLE
echo -17 > /proc/PID/oom_adj

# –ò–ª–∏ —á–µ—Ä–µ–∑ oom_score_adj
echo -1000 > /proc/PID/oom_score_adj
```

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

```Shell
# –í /etc/sysctl.conf
vm.oom_kill_allocating_task = 1    # –ó–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑–≤–∞–ª OOM
vm.panic_on_oom = 0                # –ù–µ –ø–∞–Ω–∏–∫–æ–≤–∞—Ç—å –ø—Ä–∏ OOM
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ:

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏:**

```Shell
# –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
free -h

# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏
ps aux --sort=-%mem | head -10

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏
cat /proc/meminfo
```

**–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ OOM:**

- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ RAM** - —Å–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±

- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SWAP** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** - —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

---

‚úçÔ∏è**–í–æ–ø—Ä–æ—Å—ã**

1. –ß—Ç–æ —Ç–∞–∫–æ–µ OOM Killer –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

2. –ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç OOM Killer?

3. –ö–∞–∫ OOM Killer –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è?

4. –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ OOM Killer?

5. –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å OOM Killer –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞?

6. –ö–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ OOM Killer?

7. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ OOM Killer?

8. –ö–∞–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏?

9. –ö–∞–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —á–∞—â–µ –≤—Å–µ–≥–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç OOM Killer?

10. –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è OOM?
