[üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Üí [üêß Linux](../../README.md#-linux) ‚Üí [üíæ L-06-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é](../../README.md#-l-06-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é)

---

# üíæL-06-4-Swappines

## –ß—Ç–æ —Ç–∞–∫–æ–µ Swappiness?

**Swappiness** - —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä —è–¥—Ä–∞ Linux, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swap-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏.

**–î–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π**: 0-100

- **0** - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap (—Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è—Ö)

- **60** - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É RAM –∏ swap)

- **100** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap

## –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ swappiness:

**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**

```Shell
cat /proc/sys/vm/swappiness
```

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**

```Shell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ 10 (–º–µ–Ω–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap)
sudo sysctl vm.swappiness=10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ
cat /proc/sys/vm/swappiness
```

**–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**

```Shell
# –î–æ–±–∞–≤–∏—Ç—å –≤ /etc/sysctl.conf
echo 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo sysctl -p
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:

**–î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ (–≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å):**

```Shell
vm.swappiness=1    # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap
```

**–î–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤ (–±–∞–ª–∞–Ω—Å):**

```Shell
vm.swappiness=10   # –£–º–µ—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap
```

**–î–ª—è —Å–∏—Å—Ç–µ–º —Å SSD:**

```Shell
vm.swappiness=1    # SSD –±—ã—Å—Ç—Ä–µ–µ HDD, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ RAM
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è swap:

```Shell
# –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
free -h

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
cat /proc/meminfo | grep -i swap

# –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å swap
vmstat 1
```

---

‚úçÔ∏è**–í–æ–ø—Ä–æ—Å—ã**

1. –ß—Ç–æ —Ç–∞–∫–æ–µ swappiness –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

2. –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è swappiness —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è?

3. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å swappiness –≤—Ä–µ–º–µ–Ω–Ω–æ?

4. –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ swappiness –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º?

5. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ 0, 60 –∏ 100?

6. –ö–∞–∫–æ–π swappiness –ª—É—á—à–µ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤?

7. –ö–∞–∫–æ–π swappiness –ª—É—á—à–µ –¥–ª—è SSD?

8. –ö–∞–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap?

9. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ swappiness=0?

10. –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å swappiness –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã?
