[üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Üí [üêß Linux](../../README.md#-linux) ‚Üí [üîÑ L-05-–ü—Ä–æ—Ü–µ—Å—Å-–∑–∞–≥—Ä—É–∑–∫–∏](../../README.md#-l-05-–ø—Ä–æ—Ü–µ—Å—Å-–∑–∞–≥—Ä—É–∑–∫–∏)

---

# üîÑL-05-2-–ó–∞–≥—Ä—É–∑—á–∏–∫–∏-GRUB2

## –ß—Ç–æ —Ç–∞–∫–æ–µ GRUB2?

**GRUB2 (GRand Unified Bootloader)** - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

---

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ GRUB2**

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã:**

```Shell
# –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
/boot/grub/grub.cfg                    # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ (–ù–ï –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ –í–†–£–ß–ù–£–Æ!)

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
/etc/default/grub                       # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
/etc/grub.d/                           # –°–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞
    ‚îú‚îÄ‚îÄ 00_header                      # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ‚îú‚îÄ‚îÄ 10_linux                       # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —è–¥–µ—Ä Linux
    ‚îú‚îÄ‚îÄ 30_os-prober                   # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –û–°
    ‚îî‚îÄ‚îÄ 40_custom                      # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—É–Ω–∫—Ç—ã

# –ú–æ–¥—É–ª–∏ –∏ —Ç–µ–º—ã
/boot/grub/
    ‚îú‚îÄ‚îÄ fonts/                         # –®—Ä–∏—Ñ—Ç—ã
    ‚îú‚îÄ‚îÄ locale/                        # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ i386-pc/                       # –ú–æ–¥—É–ª–∏ –¥–ª—è BIOS
    ‚îî‚îÄ‚îÄ x86_64-efi/                    # –ú–æ–¥—É–ª–∏ –¥–ª—è UEFI
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π GRUB2

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```Shell
# –ü–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ /etc/default/grub –∏–ª–∏ /etc/grub.d/
sudo update-grub                       # Debian/Ubuntu
sudo grub2-mkconfig -o /boot/grub/grub.cfg  # CentOS/RHEL
sudo grub-mkconfig -o /boot/grub/grub.cfg   # Arch Linux
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```Shell
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
cat /boot/grub/grub.cfg

# –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
cat /etc/default/grub
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ /etc/default/grub

```Shell
# –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤—ã–±–æ—Ä–∞ (—Å–µ–∫—É–Ω–¥—ã)
GRUB_TIMEOUT=10

# –°–∫—Ä—ã—Ç—å –º–µ–Ω—é (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Shift)
GRUB_TIMEOUT_STYLE=hidden

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —è–¥—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"

# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
GRUB_GFXMODE=1920x1080

# –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
GRUB_THEME="/boot/grub/themes/ubuntu/theme.txt"
```

## –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ GRUB2

**–° –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ USB:**

```Shell
# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π –§–°
sudo mount /dev/sda1 /mnt
sudo mount --bind /dev /mnt/dev
sudo mount --bind /proc /mnt/proc
sudo mount --bind /sys /mnt/sys

# Chroot –≤ —Å–∏—Å—Ç–µ–º—É
sudo chroot /mnt

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ GRUB2
grub-install /dev/sda
update-grub
```

---

‚úçÔ∏è**–í–æ–ø—Ä–æ—Å—ã**

1. –ß—Ç–æ —Ç–∞–∫–æ–µ GRUB2 –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

2. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É GRUB –∏ GRUB2?

3. –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é GRUB2?

4. –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GRUB2?

5. –ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å GRUB2 —Å –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ USB?

6. –ß—Ç–æ —Ç–∞–∫–æ–µ ESP —Ä–∞–∑–¥–µ–ª –≤ UEFI?

7. –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—É–Ω–∫—Ç –≤ GRUB2?

8. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ GRUB2?

9. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ 'e' –≤ –º–µ–Ω—é GRUB2?

10. –ö–∞–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å GRUB2?
