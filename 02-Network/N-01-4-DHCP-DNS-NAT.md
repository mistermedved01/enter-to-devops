[üè† –ì–ª–∞–≤–Ω–∞—è](../README.md) ‚Üí [üåê Network](../README.md#-network) ‚Üí [üåê N-01-4-DHCP-DNS-NAT](../README.md#-n-01-4-dhcp-dns-nat)

---

# üåêN-01-4-DHCP-DNS-NAT

üìó**–ú–∞—Ç–µ—Ä–∏–∞–ª—ã:**

---

<details> <summary>üìú<b>DHCP (Dynamic Host Configuration Protocol)</b></summary>

---

**DHCP** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª, –∫–æ—Ç–æ—Ä—ã–π **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–∞—ë—Ç IP-–∞–¥—Ä–µ—Å–∞ –∏ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–µ—Ç–∏.

> –ë–µ–∑ DHCP –∫–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø—Ä–∏—à–ª–æ—Å—å –±—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é.

---

**–ß—Ç–æ –≤—ã–¥–∞–µ—Ç DHCP?**

- IP-–∞–¥—Ä–µ—Å

- –ú–∞—Å–∫—É –ø–æ–¥—Å–µ—Ç–∏

- –®–ª—é–∑ (default gateway)

- DNS-—Å–µ—Ä–≤–µ—Ä—ã

---

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (4 —ç—Ç–∞–ø–∞ DORA)**

**1) Discover** ‚Äî –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å: ¬´–ï—Å—Ç—å DHCP-—Å–µ—Ä–≤–µ—Ä?¬ª

**2) Offer** ‚Äî —Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π IP

**3) Request** ‚Äî –∫–ª–∏–µ–Ω—Ç —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º

**4) ACK** ‚Äî —Å–µ—Ä–≤–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∞—Ä–µ–Ω–¥—É –∏ –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç IP

</details>

<details> <summary>üìú<b>DNS (Domain Name System)</b></summary>

---

**DNS** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è **–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `app.example.com`) **–≤ IP-–∞–¥—Ä–µ—Å–∞**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–Ω—è—Ç–Ω—ã —Å–µ—Ç–µ–≤–æ–º—É —É—Ä–æ–≤–Ω—é.

---

**–¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π –≤ DNS:**

**A** ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å IP-–∞–¥—Ä–µ—Å v4 –ø–æ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞.

**AAAA** ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞  –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É IP-–∞–¥—Ä–µ—Å—É v6.

**CNAME** ‚Äî —Å—Å—ã–ª–∫–∞ –æ–¥–Ω–æ–≥–æ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞ –Ω–∞ –¥—Ä—É–≥–æ–µ.

**PTR** ‚Äî –∑–∞–ø–∏—Å—å –æ–±—Ä–∞—Ç–Ω–∞—è A –∏–ª–∏ AAAA, —Ç–æ –µ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å –∏–º—è —Ö–æ—Å—Ç–∞ –ø–æ IP-–∞–¥—Ä–µ—Å—É.

**MX** ‚Äî –ø–æ—á—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞ –∫–∞–∫–æ–π –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—á—Ç—É –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –¥–æ–º–µ–Ω–∞.

**TXT** ‚Äî –ª—é–±–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

---

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DNS-–∑–∞–ø—Ä–æ—Å?**

**1)** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –¥–æ–º–µ–Ω—É `app.example.com`

**2)** –û–° —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **–ª–æ–∫–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏**:

- —Ñ–∞–π–ª `/etc/hosts`

- –ª–æ–∫–∞–ª—å–Ω—ã–π DNS-–∫—ç—à (–µ—Å–ª–∏ –∑–∞–ø–∏—Å—å —É–∂–µ –Ω–µ–¥–∞–≤–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∞—Å—å)

**3)** –ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç ‚Äî –û–° –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ **—É–∫–∞–∑–∞–Ω–Ω—ã–π DNS-—Å–µ—Ä–≤–µ—Ä** (–æ–±—ã—á–Ω–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π)

**4)** DNS-—Å–µ—Ä–≤–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫:

- –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å –µ—Å—Ç—å –≤ –µ–≥–æ –∫—ç—à–µ ‚Äî —Å—Ä–∞–∑—É –æ—Ç–≤–µ—á–∞–µ—Ç;

- –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–µ—Ä—ã: **root ‚Üí TLD (.com) ‚Üí –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è example.com**.

**5)** –ù–∞–π–¥–µ–Ω–Ω—ã–π IP –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

**6)** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π IP –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

---

</details>

<details> <summary>üìú<b>NAT (Network Address Translation)</b></summary>

---

**NAT** ‚Äî –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è IP-–∞–¥—Ä–µ—Å–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:  
  
- —Å–∫—Ä—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ ‚Üí –ø—É–±–ª–∏—á–Ω—ã–µ)
  
- —ç–∫–æ–Ω–æ–º–∏—Ç—å IPv4-–∞–¥—Ä–µ—Å–∞

- –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ (—á–µ—Ä–µ–∑ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤)

---

**–í–∏–¥—ã NAT**  

| –¢–∏–ø | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ü—Ä–∏–º–µ—Ä | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-----|------------|--------|------------|
| **SNAT** (Source NAT) | –ú–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∞–¥—Ä–µ—Å | `192.168.1.10 ‚Üí 203.0.113.1` | –î–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç |
| **DNAT** (Destination NAT) | –ú–µ–Ω—è–µ—Ç –∞–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è | `203.0.113.1 ‚Üí 192.168.1.100` | –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤, —Å–µ—Ä–≤–µ—Ä—ã |
| **Static NAT** | –ñ—ë—Å—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ IP ‚Üî IP | `192.168.1.10 ‚Üí 203.0.113.5` | –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π IP |
| **Dynamic NAT** | –ë–µ—Ä—ë—Ç IP –∏–∑ –ø—É–ª–∞ | `192.168.1.10 ‚Üí 203.0.113.1`<br>`192.168.1.11 ‚Üí 203.0.113.2` | –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–∏—Ö IP |
| **PAT** (NAT Overload, –º–∞—Å–∫–∞—Ä–∞–¥–∏–Ω–≥) | –ú–µ–Ω—è–µ—Ç –µ—â—ë –∏ –ø–æ—Ä—Ç | `192.168.1.10:5000 ‚Üí 203.0.113.1:6000` | –î–æ–º–∞—à–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä—ã, –º–∞—Å—Å–æ–≤—ã–π –¥–æ—Å—Ç—É–ø |

</details>

---

‚úçÔ∏è**–í–æ–ø—Ä–æ—Å—ã**
