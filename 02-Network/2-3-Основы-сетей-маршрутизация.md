## 02-Network

## 2-3-–û—Å–Ω–æ–≤—ã-—Å–µ—Ç–µ–π-–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

üìó**–ú–∞—Ç–µ—Ä–∏–∞–ª—ã:**

---

<details> <summary>üìú<b>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è ‚Äî —á—Ç–æ —ç—Ç–æ?</b></summary>

---

–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ IP-–ø–∞–∫–µ—Ç–æ–≤ **–º–µ–∂–¥—É —Ö–æ—Å—Ç–∞–º–∏, –Ω–∞—Ö–æ–¥—è—â–∏–º–∏—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ç—è—Ö.** –≠—Ç–∏–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è **–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä (router)** –∏–ª–∏ –ª—é–±–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Å–ø–æ—Å–æ–±–Ω–æ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å IP-–ø–∞–∫–µ—Ç—ã –º–µ–∂–¥—É –ø–æ–¥—Å–µ—Ç—è–º–∏.

–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **—Å–µ—Ç–µ–≤–æ–º —É—Ä–æ–≤–Ω–µ (L3)** –º–æ–¥–µ–ª–∏ OSI.

</details> <details> <summary>üìú<b>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –ø–æ–¥—Å–µ—Ç—è–º–∏</b></summary>

---

–í –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.0/24`) —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–æ–≥—É—Ç –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞–ø—Ä—è–º—É—é: –æ–Ω–∏ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è (Ethernet, ARP).

–ï—Å–ª–∏ –ø–∞–∫–µ—Ç –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –¥—Ä—É–≥—É—é —Å–µ—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å `192.168.1.10` –Ω–∞ `192.168.2.20`), —Ç–æ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ **—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- IP-–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏

- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ –±—É–¥–µ—Ç ‚Äî –Ω—É–∂–Ω–∞ **–ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —à–ª—é–∑**

**–ü—Ä–∏–º–µ—Ä —Å—Ö–µ–º—ã:**

`[192.168.1.10] --LAN--> [Router 192.168.1.1] --WAN--> [192.168.2.20]`

</details> <details> <summary>üìú<b>–®–ª—é–∑ (default gateway)</b></summary>

---

**–®–ª—é–∑ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (default gateway)** ‚Äî —ç—Ç–æ IP-–∞–¥—Ä–µ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **–≤—Å–µ –ø–∞–∫–µ—Ç—ã**, –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã–µ **–≤–Ω–µ –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.**

–£–ø—Ä–æ—â—ë–Ω–Ω–æ: —ç—Ç–æ "–≤–æ—Ä–æ—Ç–∞ –Ω–∞—Ä—É–∂—É" –∏–∑ –ø–æ–¥—Å–µ—Ç–∏.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ï—Å–ª–∏ IP-–∞–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è **–≤–Ω—É—Ç—Ä–∏ –ø–æ–¥—Å–µ—Ç–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.50`) ‚Üí —Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç –Ω–∞–ø—Ä—è–º—É—é.

- –ï—Å–ª–∏ **–≤–Ω–µ –ø–æ–¥—Å–µ—Ç–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `8.8.8.8`) ‚Üí —Ç—Ä–∞—Ñ–∏–∫ —É—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ **default gateway**.

‚ö°**–ë–µ–∑ default gateway** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ **–Ω–µ —Å–º–æ–∂–µ—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å–≤–æ–µ–π –ø–æ–¥—Å–µ—Ç–∏**, –Ω–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –æ—Å—Ç–∞—ë—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–π.

</details> <details> <summary>üìú<b>–¢–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏</b></summary>

---

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**

- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

- –ù–∞–¥—ë–∂–Ω–∞ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–µ–±–æ–ª—å—à–∏—Ö, —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö

- –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–æ–ø–æ–ª–æ–≥–∏–∏

**–ü—Ä–∏–º–µ—Ä (Linux):**

`ip route add 10.10.0.0/16 via 192.168.1.1`

–û–∑–Ω–∞—á–∞–µ—Ç: —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ —Å–µ—Ç—å `10.10.0.0/16`, –ø–∞–∫–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —à–ª—é–∑ `192.168.1.1`

**–ü—Ä–∏–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:**

```bash
$ ip route
default via 192.168.1.1 dev eth0
192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.100
10.10.0.0/16 via 192.168.1.1 dev eth0
```


**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–æ–≤** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–µ—Ç–∏

- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤:**

| –ü—Ä–æ—Ç–æ–∫–æ–ª | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è     | –ö—Ä–∞—Ç–∫–æ                                   | IGP/EGP |
| -------- | -------------------- | ---------------------------------------- | ------- |
| **OSPF** | –í–Ω—É—Ç—Ä–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏   | Link-state, –±—ã—Å—Ç—Ä—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–æ–Ω—ã   | IGP     |
| **RIP**  | –í–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏, —É—á–µ–±–Ω—ã–π | –ü—Ä–æ—Å—Ç–æ–π, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é | IGP     |
| **BGP**  | –ú–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏   | Policy-based, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ       | EGP     |

üîÑ**–ú–µ—Ç—Ä–∏–∫–∏:**

- RIP ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–ø–æ–≤

- OSPF ‚Äî —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—É—Ç–∏ (cost)

- BGP ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (AS-path)

</details>